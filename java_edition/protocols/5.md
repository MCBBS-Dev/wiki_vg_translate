# 协议 #5

This page presents a dissection of the current stable
[Minecraft](http://minecraft.net/game/) protocol. The current
pre-release protocol is documented
[elsewhere](Pre-release_protocol "wikilink"). The protocol for Pocket
Minecraft is substantially different, and is documented at [Pocket
Minecraft Protocol](Pocket_Minecraft_Protocol "wikilink").

If you\'re having trouble, check out the [FAQ](Protocol_FAQ "wikilink")
or ask for help in the IRC channel ([#mcdevs on
irc.freenode.net](irc://irc.freenode.net/mcdevs)).

**Note:** While you may use the contents of this page without
restriction to create servers, clients, bots, etc... you still need to
provide attribution to #mcdevs if you copy any of the contents of this
page for publication elsewhere.

```{=mediawiki}
{{Warning|As of 1.7 strings are now UTF-8 (prefixed with a VarInt giving the string's length in bytes) instead of UTF-16.}}
```
```{=mediawiki}
{{Warning|As of 1.7.6 all UUIDs used in the protocol now contain '-'. The session server still returns them without}}
```
The changes between versions may be viewed at [Protocol
History](Protocol_History "wikilink")

## Definitions

### Data types {#data_types}

```{=mediawiki}
{{:Data Types}}
```
### Other definitions {#other_definitions}

  Term                                                                Definition
  ------------------------------------------------------------------- -------------------------------------------------------------------------------------------------------------------------------------------
  Player                                                              When used in the singular, Player always refers to the client connected to the server
  Entity                                                              Entity refers to any item, player, mob, minecart or boat in the world. This definition is subject to change as Notch extends the protocol
  EID                                                                 An EID - or Entity ID - is a unique 4-byte integer used to identify a specific entity
  XYZ                                                                 In this document, the axis names are the same as those used by Notch. Y points upwards, X points South, and Z points West.
  See also: [Units of Measurement](Units_of_Measurement "wikilink")   

## Packets

### Protocol Version {#protocol_version}

1.7.2 - 4

1.7.6 - 5

## Packet format {#packet_format}

  Field Name   Field Type   Notes
  ------------ ------------ -------------------------------------------------
  Length       VarInt       Length of packet data + length of the packet ID
  Packet ID    VarInt       
  Data                      

## Handshaking

### Serverbound

#### Handshake

This causes the server to switch into the target state.

  Packet ID   Category    Bound To   Field Name                        Field Type       Notes
  ----------- ----------- ---------- --------------------------------- ---------------- ---------------------------
  0x00        Handshake   Server     Protocol Version                  VarInt           (4 as of 1.7.2)
                                     Server Address (hostname or IP)   String           localhost
                                     Server Port                       Unsigned Short   25565
                                     Next state                        VarInt           1 for status, 2 for login

## Play

### Clientbound

#### Keep Alive {#keep_alive}

The server will frequently send out a keep-alive, each containing a
random ID. The client must respond with the same packet. If the client
does not respond to them for over 30 seconds, the server kicks the
client. Vice versa, if the server does not send any keep-alives for 20
seconds, the client will disconnect and yields a \"Timed out\"
exception.

  Packet ID   Category   Bound To   Field Name      Field Type   Notes
  ----------- ---------- ---------- --------------- ------------ -------
  0x00        Play       Client     Keep Alive ID   Int          

#### Join Game {#join_game}

See [Protocol Encryption](Protocol_Encryption "wikilink") for
information on logging in.

  Packet ID   Category   Bound To   Field Name    Field Type      Notes
  ----------- ---------- ---------- ------------- --------------- --------------------------------------------------------------------------
  0x01        Play       Client     Entity ID     Int             The player\'s Entity ID
                                    Gamemode      Unsigned Byte   0: survival, 1: creative, 2: adventure. Bit 3 (0x8) is the hardcore flag
                                    Dimension     Byte            -1: nether, 0: overworld, 1: end
                                    Difficulty    Unsigned Byte   0 thru 3 for Peaceful, Easy, Normal, Hard
                                    Max Players   Unsigned Byte   Used by the client to draw the player list
                                    Level Type    String          default, flat, largeBiomes, amplified, default_1_1

```{=mediawiki}
{{Warning|If the Dimension isn't valid then the client will crash}}
```
#### Chat Message {#chat_message}

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -------------------------------------------------
  0x02        Play       Client     JSON Data    String       [Chat](Chat "wikilink"), Limited to 32767 bytes

```{=mediawiki}
{{Warning|Malformed JSON will disconnect the client}}
```
#### Time Update {#time_update}

Time is based on ticks, where 20 ticks happen every second. There are
24000 ticks in a day, making Minecraft days exactly 20 minutes long.

The time of day is based on the timestamp modulo 24000. 0 is sunrise,
6000 is noon, 12000 is sunset, and 18000 is midnight.

The default SMP server increments the time by `20` every second.

  Packet ID   Category   Bound To   Field Name         Field Type   Notes
  ----------- ---------- ---------- ------------------ ------------ --------------------------------------------------------------------------------------------------------
  0x03        Play       Client     Age of the world   Long         In ticks; not changed by server commands
                                    Time of day        Long         The world (or region) time, in ticks. If negative the sun will stop moving at the Math.abs of the time

#### Entity Equipment {#entity_equipment}

  Packet ID   Category   Bound To   Field Name   Field Type                     Notes
  ----------- ---------- ---------- ------------ ------------------------------ ----------------------------------------------------------------------------------------------
  0x04        Play       Client     EntityID     Int                            Entity\'s ID
                                    Slot         Short                          Equipment slot: 0=held, 1-4=armor slot (1 - boots, 2 - leggings, 3 - chestplate, 4 - helmet)
                                    Item         [Slot](Slot_Data "wikilink")   Item in slot format

#### Spawn Position {#spawn_position}

Sent by the server after login to specify the coordinates of the spawn
point (the point at which players spawn at, and which the compass points
to). It can be sent at any time to update the point compasses point at.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ------------------------------
  0x05        Play       Client     X            Int          Spawn X in block coordinates
                                    Y            Int          Spawn Y in block coordinates
                                    Z            Int          Spawn Z in block coordinates

#### Update Health {#update_health}

Sent by the server to update/set the health of the player it is sent to.

Food saturation acts as a food \"overcharge\". Food values will not
decrease while the saturation is over zero. Players logging in
automatically get a saturation of 5.0. Eating food increases the
saturation as well as the food bar.

  Packet ID   Category   Bound To   Field Name        Field Type   Notes
  ----------- ---------- ---------- ----------------- ------------ -----------------------------------------------------
  0x06        Play       Client     Health            Float        0 or less = dead, 20 = full HP
                                    Food              Short        0 - 20
                                    Food Saturation   Float        Seems to vary from 0.0 to 5.0 in integer increments

#### Respawn

To change the player\'s dimension (overworld/nether/end), send them a
respawn packet with the appropriate dimension, followed by
prechunks/chunks for the new dimension, and finally a position and look
packet. You do not need to unload chunks, the client will do it
automatically.

  Packet ID   Category   Bound To   Field Name   Field Type      Notes
  ----------- ---------- ---------- ------------ --------------- ---------------------------------------------------------------------------
  0x07        Play       Client     Dimension    Int             -1: The Nether, 0: The Overworld, 1: The End
                                    Difficulty   Unsigned Byte   0 thru 3 for Peaceful, Easy, Normal, Hard.
                                    Gamemode     Unsigned Byte   0: survival, 1: creative, 2: adventure. The hardcore flag is not included
                                    Level Type   String          Same as [Join Game](Protocol#Join_Game "wikilink")

```{=mediawiki}
{{Warning|If the Dimension isn't valid then the client will crash}}
```
```{=mediawiki}
{{Warning|Avoid changing player's dimension to same dimension they were already in, weird bugs can occur i.e. such player will be unable to attack other players in new world (fixes after their death and respawn)}}
```
#### Player Position And Look {#player_position_and_look}

Updates the players position on the server. If the distance between the
last known position of the player on the server and the new position set
by this packet is greater than 100 units will result in the client being
kicked for \"You moved too quickly :( (Hacking?)\" Also if the
fixed-point number of X or Z is set greater than `3.2E7D` the client
will be kicked for \"Illegal position\"

Yaw is measured in degrees, and does not follow classical trigonometry
rules. The unit circle of yaw on the XZ-plane starts at (0, 1) and turns
counterclockwise, with 90 at (-1, 0), 180 at (0,-1) and 270 at (1, 0).
Additionally, yaw is not clamped to between 0 and 360 degrees; any
number is valid, including negative numbers and numbers greater than
360.

Pitch is measured in degrees, where 0 is looking straight ahead, -90 is
looking straight up, and 90 is looking straight down.

The yaw of player (in degrees), standing at point (x0,z0) and looking
towards point (x,z) one can be calculated with:

` l = x-x0`\
` w = z-z0`\
` c = sqrt( l*l + w*w )`\
` alpha1 = -arcsin(l/c)/PI*180`\
` alpha2 =  arccos(w/c)/PI*180`\
` if alpha2 > 90 then`\
`   yaw = 180 - alpha1`\
` else`\
`   yaw = alpha1`

You can get a unit vector from a given yaw/pitch via:

` x = -cos(pitch) * sin(yaw)`\
` y = -sin(pitch)`\
` z =  cos(pitch) * cos(yaw)`

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ------------------------------------------------------
  0x08        Play       Client     X            Double       Absolute position
                                    Y            Double       Absolute position (eyes pos)
                                    Z            Double       Absolute position
                                    Yaw          Float        Absolute rotation on the X Axis, in degrees
                                    Pitch        Float        Absolute rotation on the Y Axis, in degrees
                                    On Ground    Bool         True if the client is on the ground, False otherwise

#### Held Item Change {#held_item_change}

Sent to change the player\'s slot selection

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ----------------------------------------------
  0x09        Play       Client     Slot         Byte         The slot which the player has selected (0-8)

#### Use Bed {#use_bed}

This packet tells that a player goes to bed.

The client with the matching Entity ID will go into bed mode.

This Packet is sent to all nearby players including the one sent to bed.

  Packet ID   Category   Bound To   Field Name   Field Type      Notes
  ----------- ---------- ---------- ------------ --------------- -------------------------------------
  0x0A        Play       Client     Entity ID    Int             Player ID
                                    X            Int             Bed headboard X as block coordinate
                                    Y            Unsigned Byte   Bed headboard Y as block coordinate
                                    Z            Int             Bed headboard Z as block coordinate

#### Animation

Sent whenever an entity should change animation.

  Packet ID   Category   Bound To   Field Name   Field Type      Notes
  ----------- ---------- ---------- ------------ --------------- --------------
  0x0B        Play       Client     Entity ID    VarInt          Player ID
                                    Animation    Unsigned Byte   Animation ID

Animation can be one of the following values:

  ID    Animation
  ----- -----------------------
  0     Swing arm
  1     Damage animation
  2     Leave bed
  3     Eat food
  4     Critical effect
  5     Magic critical effect
  102   (unknown)
  104   Crouch
  105   Uncrouch

#### Spawn Player {#spawn_player}

This packet is sent by the server when a player comes into visible
range, **not** when a player joins.

Servers can, however, safely spawn player entities for players not in
visible range. The client appears to handle it correctly.

When in online-mode the uuids must be valid and have valid skin blobs,
in offline-mode uuid v3 is used.

For NPCs UUID v2 should be used. Note:

`  <+Grum> i will never confirm this as a feature you know that :)`

  Packet ID   Category   Bound To   Field Name                 Field Type
  ----------- ---------- ---------- -------------- ----------- --------------------------------------------------------
  0x0C        Play       Client     Entity ID                  VarInt
                                    Player UUID                String
                                    Player Name                String
                                    Data count                 VarInt
                                    Data           Name        String
                                                   Value       String
                                                   Signature   String
                                    X                          Int
                                    Y                          Int
                                    Z                          Int
                                    Yaw                        Byte
                                    Pitch                      Byte
                                    Current Item               Short
                                    Metadata                   [Metadata](Entities#Entity_Metadata_Format "wikilink")

```{=mediawiki}
{{Warning|The client will crash if no metadata is sent}}
```
```{=mediawiki}
{{Warning|The client will disconnect if both UUID and Name are empty}}
```
#### Collect Item {#collect_item}

Sent by the server when someone picks up an item lying on the ground -
its sole purpose appears to be the animation of the item flying towards
you. It doesn\'t destroy the entity in the client memory, and it
doesn\'t add it to your inventory. The server only checks for items to
be picked up after each Player Position and \[Player Position & Look
packet sent by the client.

  Packet ID   Category   Bound To   Field Name            Field Type   Notes
  ----------- ---------- ---------- --------------------- ------------ -------
  0x0D        Play       Client     Collected Entity ID   Int          
                                    Collector Entity ID   Int          

#### Spawn Object {#spawn_object}

Sent by the server when an Object/Vehicle is created.

  Packet ID   Category   Bound To   Field Name   Field Type                              Notes
  ----------- ---------- ---------- ------------ --------------------------------------- ---------------------------------------------------------------------------------
  0x0E        Play       Client     Entity ID    VarInt                                  Entity ID of the object
                                    Type         Byte                                    The type of object (See [Objects](Entities#Objects "wikilink"))
                                    X            Int                                     X position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Y            Int                                     Y position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Z            Int                                     Z position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Pitch        Byte                                    The pitch in steps of 2p/256
                                    Yaw          Byte                                    The yaw in steps of 2p/256
                                    Data         [Object Data](Object_Data "wikilink")   

#### Spawn Mob {#spawn_mob}

Sent by the server when a Mob Entity is Spawned

  Packet ID   Category   Bound To   Field Name   Field Type                                               Notes
  ----------- ---------- ---------- ------------ -------------------------------------------------------- ---------------------------------------------------------------------------------
  0x0F        Play       Client     Entity ID    VarInt                                                   Entity\'s ID
                                    Type         Unsigned Byte                                            The type of mob. See [Mobs](Entities#Mobs "wikilink")
                                    X            Int                                                      X position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Y            Int                                                      Y position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Z            Int                                                      Z position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Yaw          Byte                                                     The yaw in steps of 2p/256
                                    Pitch        Byte                                                     The pitch in steps of 2p/256
                                    Head Pitch   Byte                                                     The pitch in steps of 2p/256
                                    Velocity X   Short                                                    
                                    Velocity Y   Short                                                    
                                    Velocity Z   Short                                                    
                                    Metadata     [Metadata](Entities#Entity_Metadata_Format "wikilink")   

#### Spawn Painting {#spawn_painting}

This packet shows location, name, and type of painting.

Calculating the center of an image: given a (width x height) grid of
cells, with (0, 0) being the top left corner, the center is (max(0,
width / 2 - 1), height / 2). E.g.

2x1 (1, 0) 4x4 (1, 2)

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -------------------------------------------------------
  0x10        Play       Client     Entity ID    VarInt       Entity\'s ID
                                    Title        String       Name of the painting. Max length 13
                                    X            Int          Center X coordinate
                                    Y            Int          Center Y coordinate
                                    Z            Int          Center Z coordinate
                                    Direction    Int          Direction the painting faces (0 -z, 1 -x, 2 +z, 3 +x)

#### Spawn Experience Orb {#spawn_experience_orb}

Spawns one or more experience orbs.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ---------------------------------------------------------------------------------
  0x11        Play       Client     Entity ID    VarInt       Entity\'s ID
                                    X            Int          X position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Y            Int          Y position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Z            Int          Z position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Count        Short        The amount of experience this orb will reward once collected

#### Entity Velocity {#entity_velocity}

Velocity is believed to be in units of 1/8000 of a block per server tick
(50ms); for example, -1343 would move (-1343 / 8000) = -0.167875 blocks
per tick (or -3,3575 blocks per second).

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ------------------------
  0x12        Play       Client     Entity ID    Int          Entity\'s ID
                                    Velocity X   Short        Velocity on the X axis
                                    Velocity Y   Short        Velocity on the Y axis
                                    Velocity Z   Short        Velocity on the Z axis

#### Destroy Entities {#destroy_entities}

Sent by the server when an list of Entities is to be destroyed on the
client.

  Packet ID   Category   Bound To   Field Name   Field Type     Notes
  ----------- ---------- ---------- ------------ -------------- ---------------------------------
  0x13        Play       Client     Count        Byte           Length of following array
                                    Entity IDs   Array of Int   The list of entities of destroy

#### Entity

Most entity-related packets are subclasses of this packet. When sent
from the server to the client, it may initialize the entry.

For player entities, either this packet or any move/look packet is sent
every game tick. So the meaning of this packet is basically that the
entity did not move/look since the last such packet.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ --------------
  0x14        Play       Client     Entity ID    Int          Entity\'s ID

#### Entity Relative Move {#entity_relative_move}

This packet is sent by the server when an entity moves less then 4
blocks; if an entity moves more than 4 blocks Entity Teleport should be
sent instead.

This packet allows at most four blocks movement in any direction,
because byte range is from -128 to 127.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -------------------------------------------------------------------------------------------
  0x15        Play       Client     Entity ID    Int          Entity\'s ID
                                    DX           Byte         Change in X position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    DY           Byte         Change in Y position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    DZ           Byte         Change in Z position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")

#### Entity Look {#entity_look}

This packet is sent by the server when an entity rotates. Example:
\"Yaw\" field 64 means a 90 degree turn.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ------------------------------------------
  0x16        Play       Client     Entity ID    Int          Entity\'s ID
                                    Yaw          Byte         The X Axis rotation as a fraction of 360
                                    Pitch        Byte         The Y Axis rotation as a fraction of 360

#### Entity Look and Relative Move {#entity_look_and_relative_move}

This packet is sent by the server when an entity rotates and moves.
Since a byte range is limited from -128 to 127, and movement is offset
of fixed-point numbers, this packet allows at most four blocks movement
in any direction. (-128/32 == -4)

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -------------------------------------------------------------------------------------------
  0x17        Play       Client     Entity ID    Int          Entity\'s ID
                                    DX           Byte         Change in X position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    DY           Byte         Change in Y position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    DZ           Byte         Change in Z position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Yaw          Byte         The X Axis rotation as a fraction of 360
                                    Pitch        Byte         The Y Axis rotation as a fraction of 360

#### Entity Teleport {#entity_teleport}

This packet is sent by the server when an entity moves more than 4
blocks.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ---------------------------------------------------------------------------------
  0x18        Play       Client     Entity ID    Int          Entity\'s ID
                                    X            Int          X position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Y            Int          Y position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Z            Int          Z position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Yaw          Byte         The X Axis rotation as a fraction of 360
                                    Pitch        Byte         The Y Axis rotation as a fraction of 360

#### Entity Head Look {#entity_head_look}

Changes the direction an entity\'s head is facing.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -----------------------------
  0x19        Play       Client     Entity ID    Int          Entity\'s ID
                                    Head Yaw     Byte         Head yaw in steps of 2p/256

#### Entity Status {#entity_status}

  Packet ID   Category   Bound To   Field Name      Field Type   Notes
  ----------- ---------- ---------- --------------- ------------ --------------
  0x1A        Play       Client     Entity ID       Int          Entity\'s ID
                                    Entity Status   Byte         See below

  Entity Status   Meaning
  --------------- -------------------------------------------------------------------------
  0               Something related to living entities?
  1               Something related to the player entity?
  2               Living Entity hurt
  3               Living Entity dead
  4               Iron Golem throwing up arms
  6               Wolf/Ocelot/Horse taming - Spawn \"heart\" particles
  7               Wolf/Ocelot/Horse tamed - Spawn \"smoke\" particles
  8               Wolf shaking water - Trigger the shaking animation
  9               (of self) Eating accepted by server
  10              Sheep eating grass
  11              Iron Golem handing over a rose
  12              Villager mating - Spawn \"heart\" particles
  13              Spawn particles indicating that a villager is angry and seeking revenge
  14              Spawn happy particles near a villager
  15              Witch animation - Spawn \"magic\" particles
  16              Zombie converting into a villager by shaking violently
  17              Firework exploding
  18              Animal in love (ready to mate) - Spawn \"heart\" particles

#### Attach Entity {#attach_entity}

This packet is sent when a player has been attached to an entity (e.g.
Minecart)

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -------------------------------------------
  0x1B        Play       Client     Entity ID    Int          Entity\'s ID
                                    Vehicle ID   Int          Vechicle\'s Entity ID
                                    Leash        Bool         If true leashes the entity to the vehicle

#### Entity Metadata {#entity_metadata}

  Packet ID   Category   Bound To   Field Name   Field Type                                               Notes
  ----------- ---------- ---------- ------------ -------------------------------------------------------- --------------
  0x1C        Play       Client     Entity ID    Int                                                      Entity\'s ID
                                    Metadata     [Metadata](Entities#Entity_Metadata_Format "wikilink")   

#### Entity Effect {#entity_effect}

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ------------------------------------------------------------------
  0x1D        Play       Client     Entity ID    Int          Entity\'s ID
                                    Effect ID    Byte         See <http://www.minecraftwiki.net/wiki/Potion_effect#Parameters>
                                    Amplifier    Byte         
                                    Duration     Short        

#### Remove Entity Effect {#remove_entity_effect}

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ --------------
  0x1E        Play       Client     Entity ID    Int          Entity\'s ID
                                    Effect ID    Byte         

#### Set Experience {#set_experience}

Sent by the server when the client should change experience levels.

  Packet ID   Category   Bound To   Field Name         Field Type   Notes
  ----------- ---------- ---------- ------------------ ------------ -----------------
  0x1F        Play       Client     Experience bar     Float        Between 0 and 1
                                    Level              Short        
                                    Total Experience   Short        

#### Entity Properties {#entity_properties}

  Packet ID   Category   Bound To   Field Name   Field Type               Notes
  ----------- ---------- ---------- ------------ ------------------------ ---------------------------
  0x20        Play       Client     Entity ID    Int                      Entity\'s ID
                                    Count        Int                      Length of following array
                                    Properties   Array of Property Data   

**Property Data** structure:

  Field Name    Field Type               Notes
  ------------- ------------------------ ---------------------------------------------------------
  Key           String                   
  Value         Double                   
  List Length   Short                    Number of list elements that follow.
  Modifiers     Array of Modifier Data   <http://www.minecraftwiki.net/wiki/Attribute#Modifiers>

Known key values:

  Key                           Default             Min   Max               Label
  ----------------------------- ------------------- ----- ----------------- -----------------------------
  generic.maxHealth             20.0                0.0   Double.MaxValue   Max Health
  generic.followRange           32.0                0.0   2048.0            Follow Range
  generic.knockbackResistance   0.0                 0.0   1.0               Knockback Resistance
  generic.movementSpeed         0.699999988079071   0.0   Double.MaxValue   Movement Speed
  generic.attackDamage          2.0                 0.0   Double.MaxValue   
  horse.jumpStrength            0.7                 0.0   2.0               Jump Strength
  zombie.spawnReinforcements    0.0                 0.0   1.0               Spawn Reinforcements Chance

**Modifier Data** structure:

  Field Name   Field Type        Notes
  ------------ ----------------- -------
  UUID         128-bit integer   
  Amount       Double            
  Operation    Byte              

#### Chunk Data {#chunk_data}

Chunks are not unloaded by the client automatically. To unload chunks,
send this packet with ground-up continuous=true and no 16\^3 chunks (eg.
primary bit mask=0). The server does not send skylight information for
nether-chunks, it\'s up to the client to know if the player is currently
in the nether. You can also infer this information from the primary
bitmask and the amount of uncompressed bytes sent.

See also: [SMP Map Format](SMP_Map_Format "wikilink")

  Packet ID   Category   Bound To   Field Name             Field Type       Notes
  ----------- ---------- ---------- ---------------------- ---------------- ------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  0x21        Play       Client     Chunk X                Int              Chunk X coordinate
                                    Chunk Z                Int              Chunk Z coordinate
                                    Ground-Up continuous   Boolean          This is True if the packet represents all sections in this vertical column, where the primary bit map specifies exactly which sections are included, and which are air
                                    Primary bit map        Unsigned Short   Bitmask with 1 for every 16x16x16 section which data follows in the compressed data.
                                    Add bit map            Unsigned Short   Same as above, but this is used exclusively for the \'add\' portion of the payload
                                    Compressed size        Int              Size of compressed chunk data
                                    Compressed data        Byte array       The chunk data is compressed using Zlib Deflate

#### Multi Block Change {#multi_block_change}

  Packet ID   Category   Bound To   Field Name     Field Type         Notes
  ----------- ---------- ---------- -------------- ------------------ ------------------------------------------------------------------------
  0x22        Play       Client     Chunk X        Int                Chunk X coordinate
                                    Chunk Z        Int                Chunk Z Coordinate
                                    Record count   Short              The number of blocks affected
                                    Data size      Int                The total size of the data, in bytes. Should always be 4\*record count
                                    Records        Array of Records   

**Record**

  Bit mask      Width     Meaning
  ------------- --------- ----------------------------------
  00 00 00 0F   4 bits    Block metadata
  00 00 FF F0   12 bits   Block ID
  00 FF 00 00   8 bits    Y co-ordinate
  0F 00 00 00   4 bits    Z co-ordinate, relative to chunk
  F0 00 00 00   4 bits    X co-ordinate, relative to chunk

#### Block Change {#block_change}

  Packet ID   Category   Bound To   Field Name       Field Type      Notes
  ----------- ---------- ---------- ---------------- --------------- --------------------------------
  0x23        Play       Client     X                Int             Block X Coordinate
                                    Y                Unsigned Byte   Block Y Coordinate
                                    Z                Int             Block Z Coordinate
                                    Block ID         VarInt          The new block ID for the block
                                    Block Metadata   Unsigned Byte   The new metadata for the block

#### Block Action {#block_action}

This packet is used for a number of things:

-   ```{=html}
    <div class="li">
    ```
    Chests opening and closing

-   Pistons pushing and pulling

-   Note blocks playing

See Also: [Block Actions](Block_Actions "wikilink")

  Packet ID   Category   Bound To   Field Name   Field Type      Notes
  ----------- ---------- ---------- ------------ --------------- ---------------------------------------------------------------------------
  0x24        Play       Client     X            Int             Block X Coordinate
                                    Y            Short           Block Y Coordinate
                                    Z            Int             Block Z Coordinate
                                    Byte 1       Unsigned Byte   Varies depending on block - see [Block_Actions](Block_Actions "wikilink")
                                    Byte 2       Unsigned Byte   Varies depending on block - see [Block_Actions](Block_Actions "wikilink")
                                    Block Type   VarInt          The block type for the block

#### Block Break Animation {#block_break_animation}

0-9 are the displayable destroy stages and each other number means that
there is no animation on this coordinate.

You can also set an animation to air! The animation will still be
visible.

If you need to display several break animations at the same time you
have to give each of them a unique Entity ID.

Also if you set the coordinates to a special block like water, it won\'t
show the actual break animation, but some other interesting effects.
(Water will lose its transparency)

  Packet ID   Category   Bound To   Field Name      Field Type   Notes
  ----------- ---------- ---------- --------------- ------------ ----------------
  0x25        Play       Client     Entity ID       VarInt       Entity\'s ID
                                    X               Int          Block Position
                                    Y               Int          
                                    Z               Int          
                                    Destroy Stage   Byte         0 - 9

#### Map Chunk Bulk {#map_chunk_bulk}

See also: [SMP Map Format](SMP_Map_Format "wikilink")

To reduce the number of bytes this packet is used to send chunks
together for better compression results.

  Packet ID   Category   Bound To   Field Name           Field Type   Notes
  ----------- ---------- ---------- -------------------- ------------ ------------------------------------------------------------------------------------------------------------------------
  0x26        Play       Client     Chunk column count   Short        The number of chunk in this packet
                                    Data length          Int          The size of the data field
                                    Sky light sent       Bool         Whether or not the chunk data contains a light nibble array. This is true in the main world, false in the end + nether
                                    Data                 Byte Array   Compressed chunk data
                                    Meta information     Meta         See below

**Meta**

  Field Name       Field Type       Notes
  ---------------- ---------------- -----------------------------------------------------------------------------------------------------------
  Chunk X          Int              The X Coordinate of the chunk
  Chunk Z          Int              The Z Coordinate of the chunk
  Primary bitmap   Unsigned Short   A bitmap which specifies which sections are not empty in this chunk
  Add bitmap       Unsigned Short   A bitmap which specifies which sections need add information because of very high block ids. not yet used

#### Explosion

Sent when an explosion occurs (creepers, TNT, and ghast fireballs).

Each block in Records is set to air. Coordinates for each axis in record
is int(X) + record.x

  Packet ID   Category   Bound To   Field Name        Field Type                   Notes
  ----------- ---------- ---------- ----------------- ---------------------------- -------------------------------------------------------------------------------------------------------
  0x27        Play       Client     X                 Float                        
                                    Y                 Float                        
                                    Z                 Float                        
                                    Radius            Float                        Currently unused in the client
                                    Record count      Int                          This is the count, not the size. The size is 3 times this value.
                                    Records           (Byte, Byte, Byte) × count   Each record is 3 signed bytes long, each bytes are the XYZ (respectively) offsets of affected blocks.
                                    Player Motion X   Float                        X velocity of the player being pushed by the explosion
                                    Player Motion Y   Float                        Y velocity of the player being pushed by the explosion
                                    Player Motion Z   Float                        Z velocity of the player being pushed by the explosion

#### Effect

Sent when a client is to play a sound or particle effect.

By default, the minecraft client adjusts the volume of sound effects
based on distance. The final boolean field is used to disable this, and
instead the effect is played from 2 blocks away in the correct
direction. Currently this is only used for effects 1013 and 1018
(mob.wither.spawn and mob.enderdragon.end, respectively), and is ignored
for any other value by the client.

  Packet ID   Category   Bound To   Field Name                Field Type   Notes
  ----------- ---------- ---------- ------------------------- ------------ --------------------------------------------
  0x28        Play       Client     Effect ID                 Int          The ID of the effect, see below.
                                    X                         Int          The X location of the effect
                                    Y                         Byte         The Y location of the effect
                                    Z                         Int          The Z location of the effect
                                    Data                      Int          Extra data for certain effects, see below.
                                    Disable relative volume   Bool         See above

##### Effects

  ID                      Name
  ----------------------- -----------------------------------------------------------------------------------------------------------------------------------------
  **Sound**               
  1000                    `random.click`
  1001                    `random.click`
  1002                    `random.bow`
  1003                    `random.door_open` or `random.door_close` (50/50 chance)
  1004                    `random.fizz`
  1005                    Play a music disc. **Data** [Record ID](http://www.minecraftwiki.net/wiki/Music_Discs)
  *(1006 not assigned)*   
  1007                    `mob.ghast.charge`
  1008                    `mob.ghast.fireball`
  1009                    `mob.ghast.fireball`, but with a lower volume.
  1010                    `mob.zombie.wood`
  1011                    `mob.zombie.metal`
  1012                    `mob.zombie.woodbreak`
  1013                    `mob.wither.spawn`
  1014                    `mob.wither.shoot`
  1015                    `mob.bat.takeoff`
  1016                    `mob.zombie.infect`
  1017                    `mob.zombie.unfect`
  1018                    `mob.enderdragon.end`
  1020                    `random.anvil_break`
  1021                    `random.anvil_use`
  1022                    `random.anvil_land`
  **Particle**            
  2000                    Spawns 10 smoke particles, e.g. from a fire. **Data** direction, see below
  2001                    Block break. **Data** [Block ID](http://www.minecraftwiki.net/wiki/Data_values)
  2002                    Splash potion. Particle effect + glass break sound. **Data** [Potion ID](http://www.lb-stuff.com/Minecraft/PotionDataValues1.9pre3.txt)
  2003                    Eye of ender entity break animation - particles and sound
  2004                    Mob spawn particle effect: smoke + flames
  2005                    Spawn \"happy villager\" effect (green crosses), used for bonemealing vegetation.
  2006                    Spawn fall particles (when player hits ground). **Data** fall damage taken for particle speed

Smoke directions:

  ID   Direction
  ---- ------------------
  0    South - East
  1    South
  2    South - West
  3    East
  4    (Up or middle ?)
  5    West
  6    North - East
  7    North
  8    North - West

#### Sound Effect {#sound_effect}

Used to play a sound effect on the client.

All known sound effect names can be seen
[here](https://github.com/SirCmpwn/Craft.Net/blob/master/source/Craft.Net.Common/SoundEffect.cs).

Custom sounds may be added by resource packs

  Packet ID   Category   Bound To   Field Name          Field Type      Notes
  ----------- ---------- ---------- ------------------- --------------- --------------------------
  0x29        Play       Client     Sound name          String          
                                    Effect position X   Int             Effect X multiplied by 8
                                    Effect position Y   Int             Effect Y multiplied by 8
                                    Effect position Z   Int             Effect Z multiplied by 8
                                    Volume              Float           1 is 100%, can be more
                                    Pitch               Unsigned Byte   63 is 100%, can be more

#### Particle

Displays the named particle

  Packet ID   Category   Bound To   Field Name            Field Type   Notes
  ----------- ---------- ---------- --------------------- ------------ --------------------------------------------------------------------------------------------------------------
  0x2A        Play       Client     Particle name         String       The name of the particle to create. A list can be found [here](https://gist.github.com/thinkofdeath/5110835)
                                    X                     Float        X position of the particle
                                    Y                     Float        Y position of the particle
                                    Z                     Float        Z position of the particle
                                    Offset X              Float        This is added to the X position after being multiplied by random.nextGaussian()
                                    Offset Y              Float        This is added to the Y position after being multiplied by random.nextGaussian()
                                    Offset Z              Float        This is added to the Z position after being multiplied by random.nextGaussian()
                                    Particle data         Float        The data of each particle
                                    Number of particles   Int          The number of particles to create

#### Change Game State {#change_game_state}

It appears when a bed can\'t be used as a spawn point and when the rain
state changes.

The class has an array of strings linked to reason codes 0, 1, 2, and 3
but only the codes for 1 and 2 are null.

  Packet ID   Category   Bound To   Field Name   Field Type      Notes
  ----------- ---------- ---------- ------------ --------------- -------------------
  0x2B        Play       Client     Reason       Unsigned Byte   
                                    Value        Float           Depends on reason

**Reason codes**

  Code   Effect                 Notes
  ------ ---------------------- -----------------------------------------------------------------------------------------------------------------------
  0      Invalid Bed            \"tile.bed.notValid\"
  1      End raining            
  2      Begin raining          
  3      Change game mode       \"gameMode.changed\" 0 - Survival, 1 - Creative, 2 - Adventure
  4      Enter credits          
  5      Demo messages          0 - Show welcome to demo screen, 101 - Tell movement controls, 102 - Tell jump control, 103 - Tell inventory control
  6      Arrow hitting player   Appears to be played when an arrow strikes another player in Multiplayer
  7      Fade value             The current darkness value. 1 = Dark, 0 = Bright, Setting the value higher causes the game to change color and freeze
  8      Fade time              Time in ticks for the sky to fade

#### Spawn Global Entity {#spawn_global_entity}

With this packet, the server notifies the client of thunderbolts
striking within a 512 block radius around the player. The coordinates
specify where exactly the thunderbolt strikes.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ---------------------------------------------------------------------------------
  0x2C        Play       Client     Entity ID    VarInt       The entity ID of the thunderbolt
                                    Type         Byte         The global entity type, currently always 1 for thunderbolt.
                                    X            Int          Thunderbolt X a [fixed-point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Y            Int          Thunderbolt Y a [fixed-point number](Data_Types#Fixed-point_numbers "wikilink")
                                    Z            Int          Thunderbolt Z a [fixed-point number](Data_Types#Fixed-point_numbers "wikilink")

#### Open Window {#open_window}

This is sent to the client when it should open an inventory, such as a
chest, workbench, or furnace. This message is not sent anywhere for
clients opening their own inventory.

  Packet ID   Category   Bound To   Field Name                  Field Type      Notes
  ----------- ---------- ---------- --------------------------- --------------- -------------------------------------------------------------------------------------------------------------------------
  0x2D        Play       Client     Window id                   Unsigned Byte   A unique id number for the window to be displayed. Notchian server implementation is a counter, starting at 1.
                                    Inventory Type              Unsigned Byte   The window type to use for display. Check below
                                    Window title                String          The title of the window.
                                    Number of Slots             Unsigned Byte   Number of slots in the window (excluding the number of slots in the player inventory).
                                    Use provided window title   Bool            If false, the client will look up a string like \"window.minecart\". If true, the client uses what the server provides.
                                    Entity ID                   Int             EntityHorse\'s entityId. Only sent when window type is equal to 11 (AnimalChest).

See [inventory windows](Inventory#Windows "wikilink") for further
information.

#### Close Window {#close_window}

This packet is sent from the server to the client when a window is
forcibly closed, such as when a chest is destroyed while it\'s open.

Note, notchian clients send a close window message with window id 0 to
close their inventory even though there is never an Open Window message
for inventory.

  Packet ID   Category   Bound To   Field Name   Field Type      Notes
  ----------- ---------- ---------- ------------ --------------- ----------------------------------------------------------------
  0x2E        Play       Client     Window ID    Unsigned Byte   This is the id of the window that was closed. 0 for inventory.

#### Set Slot {#set_slot}

Sent by the server when an item in a slot (in a window) is
added/removed.

  Packet ID   Category   Bound To   Field Name   Field Type                     Notes
  ----------- ---------- ---------- ------------ ------------------------------ ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  0x2F        Play       Client     Window ID    Byte                           The window which is being updated. 0 for player inventory. Note that all known window types include the player inventory. This packet will only be sent for the currently opened window while the player is performing actions, even if it affects the player inventory. After the window is closed, a number of these packets are sent to update the player\'s inventory window (0).
                                    Slot         Short                          The slot that should be updated
                                    Slot data    [Slot](Slot_Data "wikilink")   

#### Window Items {#window_items}

![The inventory slots](Inventory-slots.png "The inventory slots")

Sent by the server when an item in a slot (in a window) is
added/removed. This includes the main inventory, equipped armour and
crafting slots.

  Packet ID   Category   Bound To   Field Name   Field Type                               Notes
  ----------- ---------- ---------- ------------ ---------------------------------------- --------------------------------------------------------------------------
  0x30        Play       Client     Window ID    Unsigned Byte                            The id of window which items are being sent for. 0 for player inventory.
                                    Count        Short                                    The number of slots (see below)
                                    Slot data    Array of [Slots](Slot_Data "wikilink")   

See [inventory windows](Inventory#Windows "wikilink") for further
information about how slots are indexed.

#### Window Property {#window_property}

  Packet ID   Category   Bound To   Field Name   Field Type      Notes
  ----------- ---------- ---------- ------------ --------------- -----------------------------------
  0x31        Play       Client     Window ID    Unsigned Byte   The id of the window.
                                    Property     Short           Which property should be updated.
                                    Value        Short           The new value for the property.

**Furnace**

Properties:

-   0: Progress arrow
-   1: Fire icon (fuel)

Values:

-   0-200 for progress arrow
-   0-200 for fuel indicator

Ranges are presumably in in-game ticks

**Enchantment Table**

Properties: 0, 1 or 2 depending on the \"enchantment slot\" being given.

Values: The enchantment\'s level.

**Beacon**

-   0: Power level
-   1: Potion effect one
-   2: Potion effect two

**Anvil**

-   0: Maximum cost

**Brewing Stand**

-   0: Brew time

Brew time is a value between 0 and 400, with 400 making the arrow empty,
and 0 making the arrow full.

#### Confirm Transaction {#confirm_transaction}

A packet from the server indicating whether a request from the client
was accepted, or whether there was a conflict (due to lag). This packet
is also sent from the client to the server in response to a server
transaction rejection packet.

  Packet ID   Category   Bound To   Field Name      Field Type      Notes
  ----------- ---------- ---------- --------------- --------------- -------------------------------------------------------------------------------------------------
  0x32        Play       Client     Window ID       Unsigned Byte   The id of the window that the action occurred in.
                                    Action number   Short           Every action that is to be accepted has a unique number. This field corresponds to that number.
                                    Accepted        Bool            Whether the action was accepted.

#### Update Sign {#update_sign}

This message is sent from the server to the client whenever a sign is
discovered or created. This message is NOT sent when a sign is destroyed
or unloaded.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ---------------------------------
  0x33        Play       Client     X            Int          Block X Coordinate
                                    Y            Short        Block Y Coordinate
                                    Z            Int          Block Z Coordinate
                                    Line 1       String       First line of text in the sign
                                    Line 2       String       Second line of text in the sign
                                    Line 3       String       Third line of text in the sign
                                    Line 4       String       Fourth line of text in the sign

#### Maps

If the first byte of the array is 0, the next two bytes are X start and
Y start and the rest of the bytes are the colors in that column.

If the first byte of the array is 1, the rest of the bytes are in groups
of three: (data, x, y). The lower half of the data is the type (always 0
under vanilla) and the upper half is the direction.

If the first byte of the array is 2, the second byte is the map scale.

  Packet ID   Category   Bound To   Field Name    Field Type   Notes
  ----------- ---------- ---------- ------------- ------------ --------------------------------------------
  0x34        Play       Client     Item Damage   VarInt       The damage value of the map being modified
                                    Length        Short        Length of following byte array
                                    Data          Byte Array   Array data

#### Update Block Entity {#update_block_entity}

Essentially a block update on a block entity.

  Packet ID   Category   Bound To   Field Name    Field Type      Notes
  ----------- ---------- ---------- ------------- --------------- ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  0x35        Play       Client     X             Int             
                                    Y             Short           
                                    Z             Int             
                                    Action        Unsigned Byte   The type of update to perform
                                    Data length   Short           Varies
                                    NBT Data      Byte Array      Present if data length \> 0. Compressed with [gzip](wikipedia:Gzip "wikilink"). Varies, but based on the NBT chunk storage format as can be found in the Minecraft Wiki (http://www.minecraftwiki.net/Chunk_Format)

**Actions**

-   **1**: Set mob displayed inside a mob spawner
-   **2**: Set command block text (command and last execution status)
-   **3**: Set rotation and skin of mob head
-   **4**: Set type of flower in flower pot

#### Sign Editor Open {#sign_editor_open}

Sent on placement of sign.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ------------------------
  0x36        Play       Client     X            Int          X in block coordinates
                                    Y            Int          Y in block coordinates
                                    Z            Int          Z in block coordinates

#### Statistics

  Packet ID   Category   Bound To   Field Name                       Field Type
  ----------- ---------- ---------- ------------ ------------------- ------------
  0x37        Play       Client     Count                            VarInt
                                    Entry        Statistic\'s name   String
                                                 Value               VarInt

#### Player List Item {#player_list_item}

Sent by the notchian server to update the user list (`<tab>`{=html} in
the client).

  Packet ID   Category   Bound To   Field Name    Field Type   Notes
  ----------- ---------- ---------- ------------- ------------ ---------------------------------------------------------
  0x38        Play       Client     Player name   String       Supports chat colouring, limited to 16 characters.
                                    Online        Bool         The client will remove the user from the list if false.
                                    Ping          Short        Ping, presumably in ms.

#### Player Abilities {#player_abilities}

The latter 2 floats are used to indicate the walking and flying speeds
respectively, while the first byte is used to determine the value of 4
booleans.

The flags are whether damage is disabled (god mode, 8, bit 3), whether
the player can fly (4, bit 2), whether the player is flying (2, bit 1),
and whether the player is in creative mode (1, bit 0).

To get the values of these booleans, simply AND (&) the byte with 1,2,4
and 8 respectively, to get the 0 or 1 bitwise value. To set them OR (\|)
them with their repspective masks.

  Packet ID   Category   Bound To   Field Name      Field Type   Notes
  ----------- ---------- ---------- --------------- ------------ ---------------------------------------
  0x39        Play       Client     Flags           Byte         
                                    Flying speed    Float        previous integer value divided by 250
                                    Walking speed   Float        previous integer value divided by 250

#### Tab-Complete {#tab_complete}

The server responds with a list of auto-completions of the last word
sent to it. In the case of regular chat, this is a player username.
Command names and parameters are also supported.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -------------------------------------------------------------------------------------------------------------------------
  0x3A        Play       Client     Count        VarInt       Number of following strings
                                    Match        String       One eligible command, note that each command is sent separately instead of in a single string, hence the need for Count

#### Scoreboard Objective {#scoreboard_objective}

This is sent to the client when it should create a new scoreboard or
remove one.

  Packet ID   Category   Bound To   Field Name        Field Type   Notes
  ----------- ---------- ---------- ----------------- ------------ ---------------------------------------------------------------------------------------
  0x3B        Play       Client     Objective name    String       An unique name for the objective
                                    Objective value   String       The text to be displayed for the score.
                                    Create/Remove     Byte         0 to create the scoreboard. 1 to remove the scoreboard. 2 to update the display text.

#### Update Score {#update_score}

This is sent to the client when it should update a scoreboard item.

  Packet ID   Category   Bound To   Field Name      Field Type   Notes
  ----------- ---------- ---------- --------------- ------------ --------------------------------------------------------------------------------------------------
  0x3C        Play       Client     Item Name       String       An unique name to be displayed in the list.
                                    Update/Remove   Byte         0 to create/update an item. 1 to remove an item.
                                    Score Name      String       The unique name for the scoreboard to be updated. Only sent when Update/Remove does not equal 1.
                                    Value           Int          The score to be displayed next to the entry. Only sent when Update/Remove does not equal 1.

```{=mediawiki}
{{Warning|The final String and Int are only sent if the Update/Remove Byte does not equal 1}}
```
#### Display Scoreboard {#display_scoreboard}

This is sent to the client when it should display a scoreboard.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -----------------------------------------------------------------------
  0x3D        Play       Client     Position     Byte         The position of the scoreboard. 0 = list, 1 = sidebar, 2 = belowName.
                                    Score Name   String       The unique name for the scoreboard to be displayed.

#### Teams

Creates and updates teams.

+----------+----------+----------+----------+----------+----------+
| Packet   | Category | Bound To | Field    | Field    | Notes    |
| ID       |          |          | Name     | Type     |          |
+==========+==========+==========+==========+==========+==========+
| 0x3E     | Play     | Client   | Team     | String   | A unique |
|          |          |          | Name     |          | name for |
|          |          |          |          |          | the      |
|          |          |          |          |          | team.    |
|          |          |          |          |          | (Shared  |
|          |          |          |          |          | with     |
|          |          |          |          |          | scor     |
|          |          |          |          |          | eboard). |
+----------+----------+----------+----------+----------+----------+
|          |          |          | Mode     | Byte     | If 0     |
|          |          |          |          |          | then the |
|          |          |          |          |          | team is  |
|          |          |          |          |          | created. |
|          |          |          |          |          | If 1     |
|          |          |          |          |          | then the |
|          |          |          |          |          | team is  |
|          |          |          |          |          | removed. |
|          |          |          |          |          |          |
|          |          |          |          |          | If 2 the |
|          |          |          |          |          | team     |
|          |          |          |          |          | team     |
|          |          |          |          |          | inf      |
|          |          |          |          |          | ormation |
|          |          |          |          |          | is       |
|          |          |          |          |          | updated. |
|          |          |          |          |          |          |
|          |          |          |          |          | If 3     |
|          |          |          |          |          | then new |
|          |          |          |          |          | players  |
|          |          |          |          |          | are      |
|          |          |          |          |          | added to |
|          |          |          |          |          | the      |
|          |          |          |          |          | team.    |
|          |          |          |          |          |          |
|          |          |          |          |          | If 4     |
|          |          |          |          |          | then     |
|          |          |          |          |          | players  |
|          |          |          |          |          | are      |
|          |          |          |          |          | removed  |
|          |          |          |          |          | from the |
|          |          |          |          |          | team.    |
+----------+----------+----------+----------+----------+----------+
|          |          |          | Team     | String   | Only if  |
|          |          |          | Display  |          | Mode = 0 |
|          |          |          | Name     |          | or 2.    |
+----------+----------+----------+----------+----------+----------+
|          |          |          | Team     | String   | Only if  |
|          |          |          | Prefix   |          | Mode = 0 |
|          |          |          |          |          | or 2.    |
|          |          |          |          |          | D        |
|          |          |          |          |          | isplayed |
|          |          |          |          |          | before   |
|          |          |          |          |          | the      |
|          |          |          |          |          | p        |
|          |          |          |          |          | layers\' |
|          |          |          |          |          | name     |
|          |          |          |          |          | that are |
|          |          |          |          |          | part of  |
|          |          |          |          |          | this     |
|          |          |          |          |          | team.    |
+----------+----------+----------+----------+----------+----------+
|          |          |          | Team     | String   | Only if  |
|          |          |          | Suffix   |          | Mode = 0 |
|          |          |          |          |          | or 2.    |
|          |          |          |          |          | D        |
|          |          |          |          |          | isplayed |
|          |          |          |          |          | after    |
|          |          |          |          |          | the      |
|          |          |          |          |          | p        |
|          |          |          |          |          | layers\' |
|          |          |          |          |          | name     |
|          |          |          |          |          | that are |
|          |          |          |          |          | part of  |
|          |          |          |          |          | this     |
|          |          |          |          |          | team.    |
+----------+----------+----------+----------+----------+----------+
|          |          |          | Friendly | Byte     | Only if  |
|          |          |          | fire     |          | Mode = 0 |
|          |          |          |          |          | or 2; 0  |
|          |          |          |          |          | for off, |
|          |          |          |          |          | 1 for    |
|          |          |          |          |          | on, 3    |
|          |          |          |          |          | for      |
|          |          |          |          |          | seeing   |
|          |          |          |          |          | friendly |
|          |          |          |          |          | in       |
|          |          |          |          |          | visibles |
+----------+----------+----------+----------+----------+----------+
|          |          |          | Player   | Short    | Only if  |
|          |          |          | count    |          | Mode = 0 |
|          |          |          |          |          | or 3 or  |
|          |          |          |          |          | 4.       |
|          |          |          |          |          | Number   |
|          |          |          |          |          | of       |
|          |          |          |          |          | players  |
|          |          |          |          |          | in the   |
|          |          |          |          |          | array    |
+----------+----------+----------+----------+----------+----------+
|          |          |          | Players  | Array of | Only if  |
|          |          |          |          | strings  | Mode = 0 |
|          |          |          |          |          | or 3 or  |
|          |          |          |          |          | 4.       |
|          |          |          |          |          | Players  |
|          |          |          |          |          | to be    |
|          |          |          |          |          | adde     |
|          |          |          |          |          | d/remove |
|          |          |          |          |          | from the |
|          |          |          |          |          | team.    |
+----------+----------+----------+----------+----------+----------+

#### Plugin Message {#plugin_message}

Mods and plugins can use this to send their data. Minecraft itself uses
a number of [plugin channels](plugin_channel "wikilink"). These internal
channels are prefixed with `MC|`.

More documentation on this:
<http://dinnerbone.com/blog/2012/01/13/minecraft-plugin-channels-messaging/>

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ------------------------------------------------
  0x3F        Play       Client     Channel      String       Name of the \"channel\" used to send the data.
                                    Length       Short        Length of the following byte array
                                    Data         Byte Array   Any data.

#### Disconnect

Sent by the server before it disconnects a client. The server assumes
that the sender has already closed the connection by the time the packet
arrives.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -----------------------------------------------------------------------------
  0x40        Play       Client     Reason       String       Displayed to the client when the connection terminates. Must be valid JSON.

### Serverbound {#serverbound_1}

#### Keep Alive {#keep_alive_1}

The server will frequently send out a keep-alive, each containing a
random ID. The client must respond with the same packet.

  Packet ID   Category   Bound To   Field Name      Field Type   Notes
  ----------- ---------- ---------- --------------- ------------ -------
  0x00        Play       Server     Keep Alive ID   Int          

#### Chat Message {#chat_message_1}

The default server will check the message to see if it begins with a
\'/\'. If it doesn\'t, the username of the sender is prepended and sent
to all other clients (including the original sender). If it does, the
server assumes it to be a command and attempts to process it. A message
longer than 100 characters will cause the server to kick the client.
This change was initially done by allowing the client to not slice the
message up to 119 (the previous limit), without changes to the server.
For this reason, the vanilla server kept the code to cut messages at
119, but this isn\'t a protocol limitation and can be ignored.

For more information, see [Chat](Chat "wikilink").

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -------
  0x01        Play       Server     Message      String       

#### Use Entity {#use_entity}

This packet is sent from the client to the server when the client
attacks or right-clicks another entity (a player, minecart, etc).

A Notchian server only accepts this packet if the entity being
attacked/used is visible without obstruction and within a 4-unit radius
of the player\'s position.

Note that middle-click in creative mode is interpreted by the client and
sent as a Creative Inventory Action packet instead.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ---------------------------------
  0x02        Play       Server     Target       Int          
                                    Mouse        Byte         0 = Right-click, 1 = Left-click

#### Player

This packet is used to indicate whether the player is on ground
(walking/swimming), or airborne (jumping/falling).

When dropping from sufficient height, fall damage is applied when this
state goes from False to True. The amount of damage applied is based on
the point where it last changed from True to False. Note that there are
several movement related packets containing this state.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ------------------------------------------------------
  0x03        Play       Server     On Ground    Bool         True if the client is on the ground, False otherwise

#### Player Position {#player_position}

Updates the players XYZ position on the server. If `HeadY - FeetY` is
less than `0.1` or greater than `1.65`, the stance is illegal and the
client will be kicked with the message "Illegal Stance". If the distance
between the last known position of the player on the server and the new
position set by this packet is greater than 100 units will result in the
client being kicked for \"You moved too quickly :( (Hacking?)\" Also if
the fixed-point number of X or Z is set greater than `3.2E7D` the client
will be kicked for \"Illegal position\"

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ --------------------------------------------------------------------------------------------------------------------------------
  0x04        Play       Server     X            Double       Absolute position
                                    FeetY        Double       Absolute feet position, normally HeadY - 1.62. Used to modify the players bounding box when going up stairs, crouching, etc...
                                    HeadY        Double       Absolute head position
                                    Z            Double       Absolute position
                                    On Ground    Bool         True if the client is on the ground, False otherwise

#### Player Look {#player_look}

![The unit circle for
yaw](Minecraft-trig-yaw.png "The unit circle for yaw")

![The unit circle of yaw,
redrawn](Yaw.png "The unit circle of yaw, redrawn")

Updates the direction the player is looking in.

Yaw is measured in degrees, and does not follow classical trigonometry
rules. The unit circle of yaw on the XZ-plane starts at (0, 1) and turns
counterclockwise, with 90 at (-1, 0), 180 at (0,-1) and 270 at (1, 0).
Additionally, yaw is not clamped to between 0 and 360 degrees; any
number is valid, including negative numbers and numbers greater than
360.

Pitch is measured in degrees, where 0 is looking straight ahead, -90 is
looking straight up, and 90 is looking straight down.

The yaw of player (in degrees), standing at point (x0,z0) and looking
towards point (x,z) one can be calculated with:

` l = x-x0`\
` w = z-z0`\
` c = sqrt( l*l + w*w )`\
` alpha1 = -arcsin(l/c)/PI*180`\
` alpha2 =  arccos(w/c)/PI*180`\
` if alpha2 > 90 then`\
`   yaw = 180 - alpha1`\
` else`\
`   yaw = alpha1`

Pitch is measured in degrees, where 0 is looking straight ahead, -90 is
looking straight up, and 90 is looking straight down.

You can get a unit vector from a given yaw/pitch via:

` x = -cos(pitch) * sin(yaw)`\
` y = -sin(pitch)`\
` z =  cos(pitch) * cos(yaw)`

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ------------------------------------------------------
  0x05        Play       Server     Yaw          Float        Absolute rotation on the X Axis, in degrees
                                    Pitch        Float        Absolute rotation on the Y Axis, in degrees
                                    On Ground    Bool         True if the client is on the ground, False otherwise

#### Player Position And Look {#player_position_and_look_1}

A combination of Player Look and Player position.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -----------------------------------------------------------------------------------------------------------------------------------
  0x06        Play       Server     X            Double       Absolute position
                                    FeetY        Double       Absolute feet position. Is normally HeadY - 1.62. Used to modify the players bounding box when going up stairs, crouching, etc...
                                    HeadY        Double       Absolute head position
                                    Z            Double       Absolute position
                                    Yaw          Float        Absolute rotation on the X Axis, in degrees
                                    Pitch        Float        Absolute rotation on the Y Axis, in degrees
                                    On Ground    Bool         True if the client is on the ground, False otherwise

#### Player Digging {#player_digging}

Sent when the player mines a block. A Notchian server only accepts
digging packets with coordinates within a 6-unit radius of the player\'s
position.

  Packet ID   Category   Bound To   Field Name   Field Type      Notes
  ----------- ---------- ---------- ------------ --------------- ---------------------------------------------------------------
  0x07        Play       Server     Status       Byte            The action the player is taking against the block (see below)
                                    X            Int             Block position
                                    Y            Unsigned Byte   Block position
                                    Z            Int             Block position
                                    Face         Byte            The face being hit (see below)

Status can (currently) be one of six values:

  Meaning                       Value
  ----------------------------- -------
  Started digging               `0`
  Cancelled digging             `1`
  Finished digging              `2`
  Drop item stack               `3`
  Drop item                     `4`
  Shoot arrow / finish eating   `5`

Notchian clients send a 0 (started digging) when they start digging and
a 2 (finished digging) once they think they are finished. If digging is
aborted, the client simply send a 1 (Cancel digging).

Status code 4 (drop item) is a special case. In-game, when you use the
Drop Item command (keypress \'q\'), a dig packet with a status of 4, and
all other values set to 0, is sent from client to server. Status code 3
is similar, but drops the entire stack.

Status code 5 (shoot arrow / finish eating) is also a special case. The
x, y and z fields are all set to 0 like above, with the exception of the
face field, which is set to 255.

The face can be one of six values, representing the face being hit:

  -------- ---- ---- ---- ---- ---- ----
  Value    0    1    2    3    4    5
  Offset   -Y   +Y   -Z   +Z   -X   +X
  -------- ---- ---- ---- ---- ---- ----

In 1.7.3, when a player opens a door with left click the server receives
Packet 0xE+start digging and opens the door.

#### Player Block Placement {#player_block_placement}

  Packet ID   Category   Bound To   Field Name          Field Type                     Notes
  ----------- ---------- ---------- ------------------- ------------------------------ --------------------------------------------------------
  0x08        Play       Server     X                   Int                            Block position
                                    Y                   Unsigned Byte                  Block position
                                    Z                   Int                            Block position
                                    Direction           Byte                           The offset to use for block/item placement (see below)
                                    Held item           [Slot](Slot_Data "wikilink")   
                                    Cursor position X   Byte                           The position of the crosshair on the block
                                    Cursor position Y   Byte                           
                                    Cursor position Z   Byte                           

In normal operation (ie placing a block), this packet is sent once, with
the values set normally.

This packet has a special case where X, Y, Z, and Direction are all -1.
(Note that Y is unsigned so set to 255.) This special packet indicates
that the currently held item for the player should have its state
updated such as eating food, shooting bows, using buckets, etc.

In a Notchian Beta client, the block or item ID corresponds to whatever
the client is currently holding, and the client sends one of these
packets any time a right-click is issued on a surface, so no assumptions
can be made about the safety of the ID. However, with the implementation
of server-side inventory, a Notchian server seems to ignore the item ID,
instead operating on server-side inventory information and holding
selection. The client has been observed (1.2.5 and 1.3.2) to send both
real item IDs and -1 in a single session.

Special note on using buckets: When using buckets, the Notchian client
might send two packets: first a normal and then a special case. The
first normal packet is sent when you\'re looking at a block (e.g. the
water you want to scoop up). This normal packet does not appear to do
anything with a Notchian server. The second, special case packet appears
to perform the action - based on current position/orientation and with a
distance check - it appears that buckets can only be used within a
radius of 6 units.

#### Held Item Change {#held_item_change_1}

Sent when the player changes the slot selection

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ----------------------------------------------
  0x09        Play       Server     Slot         Short        The slot which the player has selected (0-8)

#### Animation {#animation_1}

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ --------------
  0x0A        Play       Server     Entity ID    Int          Player ID
                                    Animation    Byte         Animation ID

Animation can be one of the following values:

  ID    Animation
  ----- -----------------------
  0     No animation
  1     Swing arm
  2     Damage animation
  3     Leave bed
  5     Eat food
  6     Critical effect
  7     Magic critical effect
  102   (unknown)
  104   Crouch
  105   Uncrouch

#### Entity Action {#entity_action}

Sent at least when crouching, leaving a bed, or sprinting. To send
action animation to client use 0x28. The client will send this with
Action ID = 3 when \"Leave Bed\" is clicked.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ------------------------------------------
  0x0B        Play       Server     Entity ID    Int          Player ID
                                    Action ID    Byte         The ID of the action, see below.
                                    Jump Boost   Int          Horse jump boost. Ranged from 0 -\> 100.

Action ID can be one of the following values:

  ID   Action
  ---- ---------------------
  1    Crouch
  2    Uncrouch
  3    Leave bed
  4    Start sprinting
  5    Stop sprinting
  6    Horse jump
  5    Horse interaction ?

#### Steer Vehicle {#steer_vehicle}

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ------------------------------------
  0x0C        Play       Server     Sideways     Float        Positive to the left of the player
                                    Forward      Float        Positive forward
                                    Jump         Bool         
                                    Unmount      Bool         True when leaving the vehicle

#### Close Window {#close_window_1}

This packet is sent by the client when closing a window.

Note, notchian clients send a close window message with window id 0 to
close their inventory even though there is never an Open Window message
for inventory.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ----------------------------------------------------------------
  0x0D        Play       Server     Window id    byte         This is the id of the window that was closed. 0 for inventory.

#### Click Window {#click_window}

This packet is sent by the player when it clicks on a slot in a window.

  Packet ID   Category   Bound To   Field Name      Field Type                     Notes
  ----------- ---------- ---------- --------------- ------------------------------ ---------------------------------------------------------------------------------------------
  0x0E        Play       Server     Window ID       Byte                           The id of the window which was clicked. 0 for player inventory.
                                    Slot            Short                          The clicked slot. See below.
                                    Button          Byte                           The button used in the click. See below.
                                    Action number   Short                          A unique number for the action, used for transaction handling (See the Transaction packet).
                                    Mode            Byte                           Inventory operation mode. See below.
                                    Clicked item    [Slot](Slot_Data "wikilink")   

See [inventory windows](Inventory#Windows "wikilink") for further
information about how slots are indexed.

When right-clicking on a stack of items, half the stack will be picked
up and half left in the slot. If the stack is an odd number, the half
left in the slot will be smaller of the amounts.

The Action number is actually a counter, starting at 1. This number is
used by the server as a transaction ID to send back a [Transaction
packet](#0x6A "wikilink").

The distinct type of click performed by the client is determined by the
combination of the \"Mode\" and \"Button\" fields.

  Mode   Button   Slot     Trigger
  ------ -------- -------- ---------------------------------------------------------
  0      0        Normal   Left mouse click
         1        Normal   Right mouse click
  1      0        Normal   Shift + left mouse click
         1        Normal   Shift + right mouse click *(Identical behavior)*
  2      0        Normal   Number key 1
         1        Normal   Number key 2
         2        Normal   Number key 3
         \...     \...     \...
         8        Normal   Number key 9
  3      2        Normal   Middle click
  4      0        Normal   Drop key (Q)
         1        Normal   Ctrl + Drop key (Ctrl-Q)
         0        -999     Left click outside inventory holding nothing *(No-op)*
         1        -999     Right click outside inventory holding nothing *(No-op)*
  5      0        -999     Starting left mouse drag *(Or middle mouse)*
         4        -999     Starting right mouse drag
         1        Normal   Add slot for left-mouse drag
         5        Normal   Add slot for right-mouse drag
         2        -999     Ending left mouse drag
         6        -999     Ending right mouse drag
  6      0        Normal   Double click

Starting from version 1.5, \"painting mode\" is available for use in
inventory windows. It is done by picking up stack of something (more
than 1 items), then holding mouse button (left, right or middle) and
dragging holded stack over empty (or same type in case of right button )
slots. In that case client sends the following to server after mouse
button release (omitting first pickup packet which is sent as usual):

1.  packet with mode 5, slot -999 , button (0 for left \| 4 for right);
2.  packet for every slot painted on, mode is still 5, button (1 \| 5);
3.  packet with mode 5, slot -999, button (2 \| 6);

If any of the painting packets other than the \"progress\" ones are sent
out of order (for example, a start, some slots, then another start; or a
left-click in the middle) the painting status will be reset.

#### Confirm Transaction {#confirm_transaction_1}

  Packet ID   Category   Bound To   Field Name      Field Type   Notes
  ----------- ---------- ---------- --------------- ------------ -------------------------------------------------------------------------------------------------
  0x0F        Play       Server     Window ID       Byte         The id of the window that the action occurred in.
                                    Action number   Short        Every action that is to be accepted has a unique number. This field corresponds to that number.
                                    Accepted        Bool         Whether the action was accepted.

#### Creative Inventory Action {#creative_inventory_action}

While the user is in the standard inventory (i.e., not a crafting bench)
on a creative-mode server then the server will send this packet:

-   If an item is dropped into the quick bar
-   If an item is picked up from the quick bar (item id is -1)

  Packet ID   Category   Bound To   Field Name     Field Type                     Notes
  ----------- ---------- ---------- -------------- ------------------------------ ----------------
  0x10        Play       Server     Slot           Short                          Inventory slot
                                    Clicked item   [Slot](Slot_Data "wikilink")   

#### Enchant Item {#enchant_item}

  Packet ID   Category   Bound To   Field Name    Field Type   Notes
  ----------- ---------- ---------- ------------- ------------ ------------------------------------------------------------------------------------------------------
  0x11        Play       Server     Window ID     Byte         The ID sent by [Open Window](#0x64 "wikilink")
                                    Enchantment   Byte         The position of the enchantment on the enchantment table window, starting with 0 as the topmost one.

#### Update Sign {#update_sign_1}

This message is sent from the client to the server when the \"Done\"
button is pushed after placing a sign.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ---------------------------------
  0x12        Play       Server     X            Int          Block X Coordinate
                                    Y            Short        Block Y Coordinate
                                    Z            Int          Block Z Coordinate
                                    Line 1       String       First line of text in the sign
                                    Line 2       String       Second line of text in the sign
                                    Line 3       String       Third line of text in the sign
                                    Line 4       String       Fourth line of text in the sign

#### Player Abilities {#player_abilities_1}

The latter 2 bytes are used to indicate the walking and flying speeds
respectively, while the first byte is used to determine the value of 4
booleans.

The flags are whether damage is disabled (god mode, 8, bit 3), whether
the player can fly (4, bit 2), whether the player is flying (2, bit 1),
and whether the player is in creative mode (1, bit 0).

To get the values of these booleans, simply AND (&) the byte with 1,2,4
and 8 respectively, to get the 0 or 1 bitwise value. To set them OR (\|)
them with their repspective masks. The vanilla client sends this packet
when the player starts/stops flying with the second parameter changed
accordingly. All other parameters are ignored by the vanilla server.

  Packet ID   Category   Bound To   Field Name      Field Type   Notes
  ----------- ---------- ---------- --------------- ------------ ---------------------------------------
  0x13        Play       Server     Flags           Byte         
                                    Flying speed    Float        previous integer value divided by 250
                                    Walking speed   Float        previous integer value divided by 250

#### Tab-Complete {#tab_complete_1}

Sent when the user presses \[tab\] while writing text. The payload
contains all text behind the cursor.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -------
  0x14        Play       Server     Text         String       

#### Client Settings {#client_settings}

Sent when the player connects, or when settings are changed.

  Packet ID   Category   Bound To   Field Name      Field Type   Notes
  ----------- ---------- ---------- --------------- ------------ -----------------------------------------
  0x15        Play       Server     Locale          String       en_GB
                                    View distance   Byte         Client-side render distance(chunks)
                                    Chat flags      Byte         Chat settings. See notes below.
                                    Chat colours    Bool         \"Colours\" multiplayer setting
                                    Difficulty      Byte         Client-side difficulty from options.txt
                                    Show Cape       Bool         Show Cape multiplayer setting

Chat flags has several values packed into one byte.

**Chat Enabled:** Bits 0-1. 00: Enabled. 01: Commands only. 10: Hidden.

#### Client Status {#client_status}

Sent when the client is ready to complete login and when the client is
ready to respawn after death.

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -----------
  0x16        Play       Server     Action ID    Byte         See below

Action ID values:

  Action ID   Name
  ----------- ----------------------------
  0           Perform respawn
  1           Request stats
  2           Open inventory achievement

#### Plugin Message {#plugin_message_1}

Mods and plugins can use this to send their data. Minecraft itself uses
a number of [plugin channels](plugin_channel "wikilink"). These internal
channels are prefixed with `MC|`.

More documentation on this:
<http://dinnerbone.com/blog/2012/01/13/minecraft-plugin-channels-messaging/>

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ------------------------------------------------
  0x17        Play       Server     Channel      String       Name of the \"channel\" used to send the data.
                                    Length       Short        Length of the following byte array
                                    Data         Byte Array   Any data.

## Status

The status ping works as follows.

`   C->S : Handshake State=1`\
`   C->S : Request`\
`   S->C : Response`\
`   C->S : Ping`\
`   S->C : Ping`

### Clientbound {#clientbound_1}

#### Response

  Packet ID   Category   Bound To   Field Name      Field Type   Notes
  ----------- ---------- ---------- --------------- ------------ ------------------------------------------------
  0x00        Status     Client     JSON Response   String       <https://gist.github.com/thinkofdeath/6927216>

#### Ping

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ ------------------------------------------
  0x01        Status     Client     Time         Long         Should be the same as sent by the client

### Serverbound {#serverbound_2}

#### Request

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -------
  0x00        Status     Server                               

#### Ping {#ping_1}

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -------
  0x01        Status     Server     Time         Long         

## Login

The login process is as follows:

`   C->S : Handshake State=2`\
`   C->S : Login Start`\
`   S->C : Encryption Key Request`\
`   (Client Auth)`\
`   C->S : Encryption Key Response`\
`   (Server Auth, Both enable encryption)`\
`   S->C : Login Success`

For unauthenticated and\* localhost connections there is no encryption.
In that case Login Start is directly followed by Login Success.

\* It could be that only one of the two conditions is enough for an
unencrypted connection.

See [Protocol Encryption](Protocol_Encryption "wikilink") for details.

### Clientbound {#clientbound_2}

#### Disconnect {#disconnect_1}

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -------
  0x00        Login      Client     JSON Data    String       

#### Encryption Request {#encryption_request}

  Packet ID   Category   Bound To   Field Name     Field Type   Notes
  ----------- ---------- ---------- -------------- ------------ ---------------------------------
  0x01        Login      Client     Server ID      String       appears to be empty as of 1.7.x
                                    Length         Short        length of public key
                                    Public Key     Byte array   
                                    Length         Short        length of verify token
                                    Verify Token   Byte array   
                                                                

See [Protocol Encryption](Protocol_Encryption "wikilink") for details.

#### Login Success {#login_success}

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -------
  0x02        Login      Client     UUID         String       
                                    Username     String       

### Serverbound {#serverbound_3}

#### Login Start {#login_start}

  Packet ID   Category   Bound To   Field Name   Field Type   Notes
  ----------- ---------- ---------- ------------ ------------ -------
  0x00        Login      Server     Name         String       

#### Encryption Response {#encryption_response}

  Packet ID   Category   Bound To   Field Name      Field Type   Notes
  ----------- ---------- ---------- --------------- ------------ -------------------------
  0x01        Login      Server     Length          Short        length of shared secret
                                    Shared Secret   Byte array   
                                    Length          Short        length of verify token
                                    Verify Token    Byte array   
                                                                 

See [Protocol Encryption](Protocol_Encryption "wikilink") for details.

## See Also {#see_also}

-   [Data Types](Data_Types "wikilink")
-   [Protocol History](Protocol_History "wikilink")
-   [Units of Measurement](Units_of_Measurement "wikilink")

[Category:Protocol Details](Category:Protocol_Details "wikilink")
[Category:Minecraft Modern](Category:Minecraft_Modern "wikilink")
