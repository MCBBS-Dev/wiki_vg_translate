# 协议 #47

```{=mediawiki}
{{Box
  |BORDER = #9999FF
  |BACKGROUND = #99CCFF
  |WIDTH = 100%
  |ICON = 
  |HEADING = Heads up!
  |CONTENT = This article is about the protocol for the latest '''stable''' release of Minecraft '''computer edition'''. For the computer edition pre-releases, see [[Pre-release protocol]]. For Pocket Edition, see [[Pocket Minecraft Protocol]].
}}
```
This page presents a dissection of the current
**[Minecraft](https://minecraft.net/) protocol**.

If you\'re having trouble, check out the [FAQ](Protocol_FAQ "wikilink")
or ask for help in the IRC channel ([#mcdevs on
chat.freenode.net](irc://irc.freenode.net/mcdevs)).

**Note:** While you may use the contents of this page without
restriction to create servers, clients, bots, etc... you still need to
provide attribution to #mcdevs if you copy any of the contents of this
page for publication elsewhere.

The changes between versions may be viewed at [Protocol
History](Protocol_History "wikilink").

## Definitions

The Minecraft server accepts connections from TCP clients and
communicates with them using *packets*. A packet is a sequence of bytes
sent over the TCP connection. The meaning of a packet depends both on
its packet ID and the current state of the connection. The initial state
of each connection is [Handshaking](#Handshaking "wikilink"), and state
is switched using the packets [Handshake](#Handshake "wikilink")
([Handshaking](#Handshaking "wikilink"), 0x00, serverbound) and [Login
Success](#Login_Success "wikilink") ([Login](#Login "wikilink"), 0x02,
clientbound).

### Data types {#data_types}

```{=mediawiki}
{{:Data types}}
```
### Other definitions {#other_definitions}

  Term             Definition
  ---------------- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  Player           When used in the singular, Player always refers to the client connected to the server.
  Entity           Entity refers to any item, player, mob, minecart or boat etc. See `{{Minecraft Wiki|Entity|the Minecraft Wiki article}}`{=mediawiki} for a full list.
  EID              An EID --- or Entity ID --- is a 4-byte sequence used to identify a specific entity. An entity\'s EID is unique on the entire server.
  XYZ              In this document, the axis names are the same as those shown in the debug screen (F3). Y points upwards, X points east, and Z points south.
  Meter            The meter is Minecraft\'s base unit of length, equal to the length of a vertex of a solid block. The term "block" may be used to mean "meter" or "cubic meter".
  Global palette   A table/dictionary/palette mapping nonnegative integers to block states. The block state IDs can be constructed from `{{Minecraft Wiki|Data values|this table}}`{=mediawiki} by multiplying what the Minecraft Wiki calls "block IDs" by 16 and adding the metadata/damage value (or in most programming languages `block_id << 4 | metadata`).

## Packet format {#packet_format}

### Without compression {#without_compression}

  Field Name   Field Type   Notes
  ------------ ------------ -----------------------------------------------------------------------
  Length       VarInt       Length of packet data + length of the packet ID
  Packet ID    VarInt       
  Data         Byte Array   Depends on the connection state and packet ID, see the sections below

### With compression {#with_compression}

Once a [Set Compression](#Set_Compression "wikilink") packet is sent,
[zlib](wikipedia:Zlib "wikilink") compression is enabled for all
following packets. The format of a packet changes slighty to include the
size of the uncompressed packet.

  Compressed?   Field Name      Field Type   Notes
  ------------- --------------- ------------ -----------------------------------------------------------------
  No            Packet Length   VarInt       Length of Data Length + compressed length of (Packet ID + Data)
  No            Data Length     VarInt       Length of uncompressed (Packet ID + Data) or 0
  Yes           Packet ID       Varint       zlib compressed packet ID (see the sections below)
                Data            Byte Array   zlib compressed packet data (see the sections below)

The length given by the Packet Length field is the number of bytes that
remain in that packet, including the Data Length field.

If Data Length is set to zero, then the packet is uncompressed;
otherwise it is the size of the uncompressed packet.

If compressed, the uncompressed length of (Packet ID + Data) must be
equal to or over the threshold set in the packet [Set
Compression](#Set_Compression_2 "wikilink") ([Login](#Login "wikilink"),
0x03, clientbound), otherwise the receiving party will disconnect.

Compression can be disabled by sending the packet [Set
Compression](#Set_Compression_2 "wikilink") ([Login](#Login "wikilink"),
0x03, clientbound) with a Threshold of -1.

## Handshaking

### Clientbound

There are no clientbound packets in the Handshaking state, since the
protocol immediately switches to a different state after the client
sends the first packet.

### Serverbound

#### Handshake

This causes the server to switch into the target state.

  Packet ID   State         Bound To   Field Name         Field Type       Notes
  ----------- ------------- ---------- ------------------ ---------------- ------------------------------------------------------------------------------------
  0x00        Handshaking   Server     Protocol Version   VarInt           See [protocol version numbers](protocol_version_numbers "wikilink") (currently 47)
                                       Server Address     String           hostname or IP, e.g. localhost or 127.0.0.1
                                       Server Port        Unsigned Short   default is 25565
                                       Next State         VarInt           1 for [status](#Status "wikilink"), 2 for [login](#Login "wikilink")

#### Legacy Server List Ping {#legacy_server_list_ping}

```{=mediawiki}
{{Warning|This packet uses a nonstandard format. It is never length-prefixed, and the packet ID is an Unsigned Byte instead of a VarInt.}}
```
While not technically part of the current protocol, legacy clients may
send this packet to initiate [Server List
Ping](Server_List_Ping "wikilink"), and modern servers should handle it
correctly.

  Packet ID   State         Bound To   Field Name   Field Type      Notes
  ----------- ------------- ---------- ------------ --------------- -------------------
  0xFE        Handshaking   Server     Payload      Unsigned Byte   always 1 (`0x01`)

See [Server List Ping#1.6](Server_List_Ping#1.6 "wikilink") for the
details of the protocol that follows this packet.

## Play

### Clientbound {#clientbound_1}

#### Keep Alive {#keep_alive}

The server will frequently send out a keep-alive, each containing a
random ID. The client must respond with the same packet. If the client
does not respond to them for over 30 seconds, the server kicks the
client. Vice versa, if the server does not send any keep-alives for 20
seconds, the client will disconnect and yields a \"Timed out\"
exception.

  Packet ID   State   Bound To   Field Name      Field Type   Notes
  ----------- ------- ---------- --------------- ------------ -------
  0x00        Play    Client     Keep Alive ID   VarInt       

#### Join Game {#join_game}

See [Protocol Encryption](Protocol_Encryption "wikilink") for
information on logging in.

  Packet ID   State   Bound To   Field Name           Field Type      Notes
  ----------- ------- ---------- -------------------- --------------- ------------------------------------------------------------------------------------------------------------
  0x01        Play    Client     Entity ID            Int             The player\'s Entity ID (EID)
                                 Gamemode             Unsigned Byte   0: Survival, 1: Creative, 2: Adventure, 3: Spectator. Bit 3 (0x8) is the hardcore flag.
                                 Dimension            Byte            -1: Nether, 0: Overworld, 1: End
                                 Difficulty           Unsigned Byte   0: peaceful, 1: easy, 2: normal, 3: hard
                                 Max Players          Unsigned Byte   Used by the client to draw the player list
                                 Level Type           String          default, flat, largeBiomes, amplified, default_1_1
                                 Reduced Debug Info   Boolean         If true, a Notchian client shows reduced information on the `{{Minecraft Wiki|debug screen}}`{=mediawiki}.

```{=mediawiki}
{{Warning|If the Dimension isn't valid then the client will crash}}
```
#### Chat Message {#chat_message}

Identifying the difference between Chat/System Message is important as
it helps respect the user\'s chat visibility options. While Position 2
accepts json formatting it will not display, old style formatting works

  Packet ID   State   Bound To   Field Name   Field Type                Notes
  ----------- ------- ---------- ------------ ------------------------- -------------------------------------------------------------------
  0x02        Play    Client     JSON Data    [Chat](Chat "wikilink")   Limited to 32767 bytes
                                 Position     Byte                      0: chat (chat box), 1: system message (chat box), 2: above hotbar

```{=mediawiki}
{{Warning|Malformed JSON will disconnect the client}}
```
#### Time Update {#time_update}

Time is based on ticks, where 20 ticks happen every second. There are
24000 ticks in a day, making Minecraft days exactly 20 minutes long.

The time of day is based on the timestamp modulo 24000. 0 is sunrise,
6000 is noon, 12000 is sunset, and 18000 is midnight.

The default SMP server increments the time by `20` every second.

  Packet ID   State   Bound To   Field Name    Field Type   Notes
  ----------- ------- ---------- ------------- ------------ --------------------------------------------------------------------------------------------------------
  0x03        Play    Client     World Age     Long         In ticks; not changed by server commands
                                 Time of day   Long         The world (or region) time, in ticks. If negative the sun will stop moving at the Math.abs of the time

#### Entity Equipment {#entity_equipment}

  Packet ID   State   Bound To   Field Name   Field Type                     Notes
  ----------- ------- ---------- ------------ ------------------------------ ---------------------------------------------------------------------------------------------
  0x04        Play    Client     Entity ID    VarInt                         Entity\'s EID
                                 Slot         Short                          Equipment slot. 0: held, 1--4: armor slot (1: boots, 2: leggings, 3: chestplate, 4: helmet)
                                 Item         [Slot](Slot_Data "wikilink")   Item in slot format

#### Spawn Position {#spawn_position}

Sent by the server after login to specify the coordinates of the spawn
point (the point at which players spawn at, and which the compass points
to). It can be sent at any time to update the point compasses point at.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ----------------
  0x05        Play    Client     Location     Position     Spawn location

#### Update Health {#update_health}

Sent by the server to update/set the health of the player it is sent to.

Food
`{{Minecraft Wiki|Food#Hunger vs. Saturation|saturation}}`{=mediawiki}
acts as a food "overcharge". Food values will not decrease while the
saturation is over zero. Players logging in automatically get a
saturation of 5.0. Eating food increases the saturation as well as the
food bar.

  Packet ID   State   Bound To   Field Name        Field Type   Notes
  ----------- ------- ---------- ----------------- ------------ -----------------------------------------------------
  0x06        Play    Client     Health            Float        0 or less = dead, 20 = full HP
                                 Food              VarInt       0--20
                                 Food Saturation   Float        Seems to vary from 0.0 to 5.0 in integer increments

#### Respawn

To change the player\'s dimension (overworld/nether/end), send them a
respawn packet with the appropriate dimension, followed by
prechunks/chunks for the new dimension, and finally a position and look
packet. You do not need to unload chunks, the client will do it
automatically.

  Packet ID   State   Bound To   Field Name   Field Type      Notes
  ----------- ------- ---------- ------------ --------------- ---------------------------------------------------------------------------
  0x07        Play    Client     Dimension    Int             -1: The Nether, 0: The Overworld, 1: The End
                                 Difficulty   Unsigned Byte   0: Peaceful, 1: Easy, 2: Normal, 3: Hard
                                 Gamemode     Unsigned Byte   0: survival, 1: creative, 2: adventure. The hardcore flag is not included
                                 Level Type   String          Same as [Join Game](#Join_Game "wikilink")

```{=mediawiki}
{{Warning|If the Dimension isn't valid then the client will crash}}
```
```{=mediawiki}
{{Warning|Avoid changing player's dimension to same dimension they were already in, weird bugs can occur i.e. such player will be unable to attack other players in new world (fixes after their death and respawn)}}
```
#### Player Position And Look {#player_position_and_look}

Updates the player\'s position on the server. This packet will also
close the \"Downloading Terrain\" screen when joining/respawning.

If the distance between the last known position of the player on the
server and the new position set by this packet is greater than 100
meters, the client will be kicked for "You moved too quickly :(
(Hacking?)".

Also if the fixed-point number of X or Z is set greater than `3.2E7D`
the client will be kicked for "Illegal position".

Yaw is measured in degrees, and does not follow classical trigonometry
rules. The unit circle of yaw on the XZ-plane starts at (0, 1) and turns
counterclockwise, with 90 at (-1, 0), 180 at (0, -1) and 270 at (1, 0).
Additionally, yaw is not clamped to between 0 and 360 degrees; any
number is valid, including negative numbers and numbers greater than
360.

Pitch is measured in degrees, where 0 is looking straight ahead, -90 is
looking straight up, and 90 is looking straight down.

The yaw and pitch of player (in degrees), standing at point (x0, y0, z0)
and looking towards point (x, y, z) one can be calculated with:

`dx = x-x0`\
`dy = y-y0`\
`dz = z-z0`\
`r = sqrt( dx*dx + dy*dy + dz*dz )`\
`yaw = -atan2(dx,dz)/PI*180`\
`if yaw < 0 then`\
`    yaw = 360 - yaw`\
`pitch = -arcsin(dy/r)/PI*180`

You can get a unit vector from a given yaw/pitch via:

`x = -cos(pitch) * sin(yaw)`\
`y = -sin(pitch)`\
`z =  cos(pitch) * cos(yaw)`

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ---------------------------------------------------------
  0x08        Play    Client     X            Double       Absolute or relative position, depending on Flags
                                 Y            Double       Absolute or relative position, depending on Flags
                                 Z            Double       Absolute or relative position, depending on Flags
                                 Yaw          Float        Absolute or relative rotation on the X Axis, in degrees
                                 Pitch        Float        Absolute or relative rotation on the Y Axis, in degrees
                                 Flags        Byte         Bit field, see below

About the Flags field:

`<Dinnerbone>`{=html}` It's a bitfield, X/Y/Z/Y_ROT/X_ROT. If X is set, the x value is relative and not absolute.`

  Field   Bit
  ------- ------
  X       0x01
  Y       0x02
  Z       0x04
  Y_ROT   0x08
  X_ROT   0x10

#### Held Item Change {#held_item_change}

Sent to change the player\'s slot selection.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ -----------------------------------------------
  0x09        Play    Client     Slot         Byte         The slot which the player has selected (0--8)

#### Use Bed {#use_bed}

This packet tells that a player goes to bed.

The client with the matching Entity ID will go into bed mode.

This Packet is sent to all nearby players including the one sent to bed.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ --------------------------------------------
  0x0A        Play    Client     Entity ID    VarInt       Sleeping player\'s EID
                                 Location     Position     Block location of the head part of the bed

#### Animation

Sent whenever an entity should change animation.

  Packet ID   State   Bound To   Field Name   Field Type      Notes
  ----------- ------- ---------- ------------ --------------- --------------------------
  0x0B        Play    Client     Entity ID    VarInt          Player ID
                                 Animation    Unsigned Byte   Animation ID (see below)

Animation can be one of the following values:

  ID   Animation
  ---- -----------------------
  0    Swing arm
  1    Take damage
  2    Leave bed
  3    Eat food
  4    Critical effect
  5    Magic critical effect

#### Spawn Player {#spawn_player}

This packet is sent by the server when a player comes into visible
range, *not* when a player joins.

This packet must be sent after the [Player List
Item](#Player_List_Item "wikilink") ([Play](#Play "wikilink"), 0x38,
clientbound) packet that adds the player data for the client to use when
spawning a player. If the tab list entry for the UUID included in this
packet is not present when this packet arrives, the entity will not be
spawned. The tab includes skin/cape data.

Servers can, however, safely spawn player entities for players not in
visible range. The client appears to handle it correctly.

When in online-mode the UUIDs must be valid and have valid skin blobs,
in offline-mode UUID v3 is used.

For NPCs UUID v2 should be used. Note:

`<+Grum> i will never confirm this as a feature you know that :)`

In an example UUID, `xxxxxxxx-xxxx-Yxxx-xxxx-xxxxxxxxxxxx`, the UUID
version is specified by `Y`. So, for UUID v3, `Y` will always be `3`,
and for UUID v2, `Y` will always be `2`.

  Packet ID   State   Bound To   Field Name     Field Type                                               Notes
  ----------- ------- ---------- -------------- -------------------------------------------------------- ----------------------------------------------------------------------------------------------------------------------
  0x0C        Play    Client     Entity ID      VarInt                                                   Player\'s EID
                                 Player UUID    UUID                                                     
                                 X              Int                                                      Player X as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Y              Int                                                      Player Y as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Z              Int                                                      Player Z as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Yaw            Angle                                                    
                                 Pitch          Angle                                                    
                                 Current Item   Short                                                    The item the player is currently holding. Note that this should be 0 for "no item", unlike -1 used in other packets.
                                 Metadata       [Metadata](Entities#Entity_Metadata_Format "wikilink")   

```{=mediawiki}
{{Warning|A negative Current Item crashes clients}}
```
```{=mediawiki}
{{Warning|The client will crash if no Metadata is sent}}
```
#### Collect Item {#collect_item}

Sent by the server when someone picks up an item lying on the ground ---
its sole purpose appears to be the animation of the item flying towards
you. It doesn\'t destroy the entity in the client memory, and it
doesn\'t add it to your inventory. The server only checks for items to
be picked up after each [Player Position](#Player_Position "wikilink")
(and [Player Position And Look](#Player_Position_And_Look "wikilink"))
packet sent by the client.

  Packet ID   State   Bound To   Field Name            Field Type   Notes
  ----------- ------- ---------- --------------------- ------------ -------
  0x0D        Play    Client     Collected Entity ID   VarInt       
                                 Collector Entity ID   VarInt       

#### Spawn Object {#spawn_object}

Sent by the server when a vehicle or other object is created.

  Packet ID   State   Bound To   Field Name   Field Type       Notes
  ----------- ------- ---------- ------------ ---------------- ----------------------------------------------------------------------------------------------------------
  0x0E        Play    Client     Entity ID    VarInt           EID of the object
                                 Type         Byte             The type of object (see [Entities#Objects](Entities#Objects "wikilink"))
                                 X            Int              X position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Y            Int              Y position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Z            Int              Z position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Pitch        Angle            
                                 Yaw          Angle            
                                 Data         Int              Meaning dependent on the value of the Type field, see [Object Data](Object_Data "wikilink") for details.
                                 Velocity X   Optional Short   Only sent if the Data field is nonzero. Same units as [Entity Velocity](#Entity_Velocity "wikilink").
                                 Velocity Y   Optional Short   Only sent if the Data field is nonzero. Same units as [Entity Velocity](#Entity_Velocity "wikilink").
                                 Velocity Z   Optional Short   Only sent if the Data field is nonzero. Same units as [Entity Velocity](#Entity_Velocity "wikilink").

#### Spawn Mob {#spawn_mob}

Sent by the server when a Mob Entity is Spawned

  Packet ID   State   Bound To   Field Name   Field Type                                               Notes
  ----------- ------- ---------- ------------ -------------------------------------------------------- ---------------------------------------------------------------------------------
  0x0F        Play    Client     Entity ID    VarInt                                                   
                                 Type         Unsigned Byte                                            The type of mob. See [Mobs](Entities#Mobs "wikilink")
                                 X            Int                                                      X position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Y            Int                                                      Y position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Z            Int                                                      Z position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Yaw          Angle                                                    
                                 Pitch        Angle                                                    
                                 Head Pitch   Angle                                                    
                                 Velocity X   Short                                                    Same units as [Entity Velocity](#Entity_Velocity "wikilink")
                                 Velocity Y   Short                                                    Same units as [Entity Velocity](#Entity_Velocity "wikilink")
                                 Velocity Z   Short                                                    Same units as [Entity Velocity](#Entity_Velocity "wikilink")
                                 Metadata     [Metadata](Entities#Entity_Metadata_Format "wikilink")   

#### Spawn Painting {#spawn_painting}

This packet shows location, name, and type of painting.

Calculating the center of an image: given a (width x height) grid of
cells, with (0, 0) being the top left corner, the center is (max(0,
width / 2 - 1), height / 2). E.g.

`2x1 (1, 0)`\
`4x4 (1, 2)`

  Packet ID   State   Bound To   Field Name   Field Type      Notes
  ----------- ------- ---------- ------------ --------------- ----------------------------------------------------------------------------------------
  0x10        Play    Client     Entity ID    VarInt          
                                 Title        String          Name of the painting. Max length 13
                                 Location     Position        Center coordinates
                                 Direction    Unsigned Byte   Direction the painting faces. 0: north (-z), 1: west (-x), 2: south (+z), 3: east (+x)

#### Spawn Experience Orb {#spawn_experience_orb}

Spawns one or more experience orbs.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ---------------------------------------------------------------------------------
  0x11        Play    Client     Entity ID    VarInt       Entity\'s ID
                                 X            Int          X position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Y            Int          Y position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Z            Int          Z position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Count        Short        The amount of experience this orb will reward once collected

#### Entity Velocity {#entity_velocity}

Velocity is believed to be in units of 1/8000 of a block per server tick
(50ms); for example, -1343 would move (-1343 / 8000) = −0.167875 blocks
per tick (or −3,3575 blocks per second).

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ------------------------
  0x12        Play    Client     Entity ID    VarInt       
                                 Velocity X   Short        Velocity on the X axis
                                 Velocity Y   Short        Velocity on the Y axis
                                 Velocity Z   Short        Velocity on the Z axis

#### Destroy Entities {#destroy_entities}

Sent by the server when a list of entities is to be destroyed on the
client.

  Packet ID   State   Bound To   Field Name   Field Type        Notes
  ----------- ------- ---------- ------------ ----------------- -------------------------------------------
  0x13        Play    Client     Count        VarInt            Number of elements in the following array
                                 Entity IDs   Array of VarInt   The list of entities of destroy

#### Entity

This packet may be used to initialize an entity.

For player entities, either this packet or any move/look packet is sent
every game tick. So the meaning of this packet is basically that the
entity did not move/look since the last such packet.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ -------
  0x14        Play    Client     Entity ID    VarInt       

#### Entity Relative Move {#entity_relative_move}

This packet is sent by the server when an entity moves less then 4
blocks; if an entity moves more than 4 blocks [Entity
Teleport](#Entity_Teleport "wikilink") should be sent instead.

This packet allows at most four blocks movement in any direction,
because byte range is from -128 to 127.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ -------------------------------------------------------------------------------------------
  0x15        Play    Client     Entity ID    VarInt       
                                 Delta X      Byte         Change in X position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Delta Y      Byte         Change in Y position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Delta Z      Byte         Change in Z position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 On Ground    Boolean      

#### Entity Look {#entity_look}

This packet is sent by the server when an entity rotates.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ------------------------
  0x16        Play    Client     Entity ID    VarInt       
                                 Yaw          Angle        New angle, not a delta
                                 Pitch        Angle        New angle, not a delta
                                 On Ground    Boolean      

#### Entity Look And Relative Move {#entity_look_and_relative_move}

This packet is sent by the server when an entity rotates and moves.
Since a byte range is limited from -128 to 127, and movement is offset
of fixed-point numbers, this packet allows at most four blocks movement
in any direction. (-128/32 == -4)

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ -------------------------------------------------------------------------------------------
  0x17        Play    Client     Entity ID    VarInt       
                                 Delta X      Byte         Change in X position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Delta Y      Byte         Change in Y position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Delta Z      Byte         Change in Z position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Yaw          Angle        New angle, not a delta
                                 Pitch        Angle        New angle, not a delta
                                 On Ground    Boolean      

#### Entity Teleport {#entity_teleport}

This packet is sent by the server when an entity moves more than 4
blocks.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ---------------------------------------------------------------------------------
  0x18        Play    Client     Entity ID    VarInt       
                                 X            Int          X position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Y            Int          Y position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Z            Int          Z position as a [Fixed-Point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Yaw          Angle        New angle, not a delta
                                 Pitch        Angle        New angle, not a delta
                                 On Ground    Boolean      

#### Entity Head Look {#entity_head_look}

Changes the direction an entity\'s head is facing.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ------------------------
  0x19        Play    Client     Entity ID    VarInt       
                                 Head Yaw     Angle        New angle, not a delta

#### Entity Status {#entity_status}

  Packet ID   State   Bound To   Field Name      Field Type   Notes
  ----------- ------- ---------- --------------- ------------ -----------
  0x1A        Play    Client     Entity ID       Int          
                                 Entity Status   Byte         See below

  Entity Status   Meaning
  --------------- ---------------------------------------------------------------------------
  1               Sent when resetting a mob spawn minecart\'s timer / Rabbit jump animation
  2               Living Entity hurt
  3               Living Entity dead
  4               Iron Golem throwing up arms
  6               Wolf/Ocelot/Horse taming --- Spawn "heart" particles
  7               Wolf/Ocelot/Horse tamed --- Spawn "smoke" particles
  8               Wolf shaking water --- Trigger the shaking animation
  9               (of self) Eating accepted by server
  10              Sheep eating grass
  10              Play TNT ignite sound
  11              Iron Golem handing over a rose
  12              Villager mating --- Spawn "heart" particles
  13              Spawn particles indicating that a villager is angry and seeking revenge
  14              Spawn happy particles near a villager
  15              Witch animation --- Spawn "magic" particles
  16              Play zombie converting into a villager sound
  17              Firework exploding
  18              Animal in love (ready to mate) --- Spawn "heart" particles
  19              Reset squid rotation
  20              Spawn explosion particle --- works for some living entities
  21              Play guardian sound --- works for only for guardians
  22              Enables reduced debug for players
  23              Disables reduced debug for players

#### Attach Entity {#attach_entity}

This packet is sent when a player has been attached to an entity (e.g.
Minecart).

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ --------------------------------------------
  0x1B        Play    Client     Entity ID    Int          Attached entity\'s EID
                                 Vehicle ID   Int          Vechicle\'s Entity ID. Set to -1 to detach
                                 Leash        Boolean      If true leashes the entity to the vehicle

#### Entity Metadata {#entity_metadata}

Updates one or more
[metadata](Entities#Entity_Metadata_Format "wikilink") properties for an
existing entity. Any properties not included in the Metadata field are
left unchanged.

  Packet ID   State   Bound To   Field Name   Field Type                                               Notes
  ----------- ------- ---------- ------------ -------------------------------------------------------- -------
  0x1C        Play    Client     Entity ID    VarInt                                                   
                                 Metadata     [Metadata](Entities#Entity_Metadata_Format "wikilink")   

#### Entity Effect {#entity_effect}

  Packet ID   State   Bound To   Field Name       Field Type   Notes
  ----------- ------- ---------- ---------------- ------------ -------------------------------------------------------------------------------
  0x1D        Play    Client     Entity ID        VarInt       
                                 Effect ID        Byte         See `{{Minecraft Wiki|Status effect#List of effects|this table}}`{=mediawiki}
                                 Amplifier        Byte         Notchian client displays effect level as Amplifier + 1
                                 Duration         VarInt       Seconds
                                 Hide Particles   Boolean      

#### Remove Entity Effect {#remove_entity_effect}

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ -------------------------------------------------------------------------------
  0x1E        Play    Client     Entity ID    VarInt       
                                 Effect ID    Byte         See `{{Minecraft Wiki|Status effect#List of effects|this table}}`{=mediawiki}

#### Set Experience {#set_experience}

Sent by the server when the client should change experience levels.

  Packet ID   State   Bound To   Field Name         Field Type   Notes
  ----------- ------- ---------- ------------------ ------------ ----------------------------------------------------------------------------------------------------------------------------
  0x1F        Play    Client     Experience bar     Float        Between 0 and 1
                                 Level              VarInt       
                                 Total Experience   VarInt       See `{{Minecraft Wiki|Experience#Leveling up}}`{=mediawiki} on the Minecraft Wiki for Total Experience to Level conversion

#### Entity Properties {#entity_properties}

Sets `{{Minecraft Wiki|Attribute|attributes}}`{=mediawiki} on the given
entity.

  Packet ID   State   Bound To   Field Name                                   Field Type
  ----------- ------- ---------- ---------------------- --------------------- ------------
  0x20        Play    Client     Entity ID                                    VarInt
                                 Number Of Properties                         Int
                                 Property               Key                   Array
                                                        Value                 
                                                        Number Of Modifiers   
                                                        Modifiers             

Known Key values:

  Key                           Default             Min   Max               Label
  ----------------------------- ------------------- ----- ----------------- -----------------------------
  generic.maxHealth             20.0                0.0   Double.MaxValue   Max Health
  generic.followRange           32.0                0.0   2048.0            Follow Range
  generic.knockbackResistance   0.0                 0.0   1.0               Knockback Resistance
  generic.movementSpeed         0.699999988079071   0.0   Double.MaxValue   Movement Speed
  generic.attackDamage          2.0                 0.0   Double.MaxValue   
  horse.jumpStrength            0.7                 0.0   2.0               Jump Strength
  zombie.spawnReinforcements    0.0                 0.0   1.0               Spawn Reinforcements Chance

*Modifier Data* structure:

  Field Name   Field Type   Notes
  ------------ ------------ -----------------------------
  UUID         UUID         
  Amount       Double       May be positive or negative
  Operation    Byte         See below

The operation controls how the base value of the modifier is changed.

-   0: Add/subtract amount
-   1: Add/subtract amount percent of the current value
-   2: Multiply by amount percent

All of the 0\'s are applied first, and then the 1\'s, and then the 2\'s.

#### Chunk Data {#chunk_data}

Chunks are not unloaded by the client automatically. To unload chunks,
send this packet with Ground-Up Continuous=true and no 16\^3 chunks (eg.
Primary Bit Mask=0). The server does not send skylight information for
nether-chunks, it\'s up to the client to know if the player is currently
in the nether. You can also infer this information from the primary
bitmask and the amount of uncompressed bytes sent.

See also: [SMP Map Format](SMP_Map_Format "wikilink")

Changes in 1.8:

-   Data value section removed
-   Extended id section removed
-   Block id section is now a unsigned short (little endian) per a block
-   The block id is equal to `(id << 4) | data`

  Packet ID   State   Bound To   Field Name             Field Type                                Notes
  ----------- ------- ---------- ---------------------- ----------------------------------------- -------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  0x21        Play    Client     Chunk X                Int                                       Chunk X coordinate
                                 Chunk Z                Int                                       Chunk Z coordinate
                                 Ground-Up Continuous   Boolean                                   This is true if the packet represents all sections in this vertical column, where the Primary Bit Mask specifies exactly which sections are included, and which are air
                                 Primary Bit Mask       Unsigned Short                            Bitmask with 1 for every 16x16x16 section whose data follows in the compressed data
                                 Size                   VarInt                                    Size of Data
                                 Data                   [Chunk](SMP_Map_Format#Data "wikilink")   

#### Multi Block Change {#multi_block_change}

Fired whenever 2 or more blocks are changed within the render distance.

  Packet ID   State   Bound To   Field Name                           Field Type
  ----------- ------- ---------- -------------- --------------------- ------------
  0x22        Play    Client     Chunk X                              Int
                                 Chunk Z                              Int
                                 Record Count                         VarInt
                                 Record         Horizontal Position   Array
                                                Y Coordinate          
                                                Block ID              

#### Block Change {#block_change}

Fired whenever a block is changed within the render distance.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  0x23        Play    Client     Location     Position     Block Coordinates
                                 Block ID     VarInt       The new block state ID for the block as given in the `{{Minecraft Wiki|Data values#Block IDs|global palette}}`{=mediawiki} (When reading data: `type = id >> 4`, `meta = id & 15`, when writing data: `id = type << 4 | (meta & 15)`)

#### Block Action {#block_action}

This packet is used for a number of things:

-   Chests opening and closing
-   Pistons pushing and pulling
-   Note blocks playing
-   Updating beacons

See also: [Block Actions](Block_Actions "wikilink")

  Packet ID   State   Bound To   Field Name   Field Type      Notes
  ----------- ------- ---------- ------------ --------------- -----------------------------------------------------------------------------
  0x24        Play    Client     Location     Position        Block coordinates
                                 Byte 1       Unsigned Byte   Varies depending on block --- see [Block Actions](Block_Actions "wikilink")
                                 Byte 2       Unsigned Byte   Varies depending on block --- see [Block Actions](Block_Actions "wikilink")
                                 Block Type   VarInt          The block type ID for the block, not including metadata/damage value

#### Block Break Animation {#block_break_animation}

0--9 are the displayable destroy stages and each other number means that
there is no animation on this coordinate.

You can also set an animation to air! The animation will still be
visible.

If you need to display several break animations at the same time you
have to give each of them a unique Entity ID.

Also if you set the coordinates to a special block like water etc. it
won\'t show the actual break animation but some other interesting
effects. For example, water will lose its transparency.

  Packet ID   State   Bound To   Field Name      Field Type   Notes
  ----------- ------- ---------- --------------- ------------ ----------------------------------------------
  0x25        Play    Client     Entity ID       VarInt       EID for the animation
                                 Location        Position     Block Position
                                 Destroy Stage   Byte         0--9 to set it, any other value to remove it

#### Map Chunk Bulk {#map_chunk_bulk}

1.8 changes at [Chunk Data](#Chunk_Data "wikilink")

To reduce the number of bytes, this packet is used to send chunks
together for better compression results.

  Packet ID   State   Bound To   Field Name                              Field Type
  ----------- ------- ---------- -------------------- ------------------ --------------------------------------------------
  0x26        Play    Client     Sky Light Sent                          Boolean
                                 Chunk Column Count                      VarInt
                                 Chunk Meta           Chunk X            Array
                                                      Chunk Z            
                                                      Primary Bit Mask   
                                 Chunk Data                              Array of [Chunk](SMP_Map_Format#Data "wikilink")

#### Explosion

Sent when an explosion occurs (creepers, TNT, and ghast fireballs).

Each block in Records is set to air. Coordinates for each axis in record
is int(X) + record.x

  Packet ID   State   Bound To   Field Name        Field Type                    Notes
  ----------- ------- ---------- ----------------- ----------------------------- -------------------------------------------------------------------------------------------------------
  0x27        Play    Client     X                 Float                         
                                 Y                 Float                         
                                 Z                 Float                         
                                 Radius            Float                         Currently unused in the client
                                 Record Count      Int                           Number of elements in the following array
                                 Records           Array of (Byte, Byte, Byte)   Each record is 3 signed bytes long, each bytes are the XYZ (respectively) offsets of affected blocks.
                                 Player Motion X   Float                         X velocity of the player being pushed by the explosion
                                 Player Motion Y   Float                         Y velocity of the player being pushed by the explosion
                                 Player Motion Z   Float                         Z velocity of the player being pushed by the explosion

#### Effect

Sent when a client is to play a sound or particle effect.

By default, the Minecraft client adjusts the volume of sound effects
based on distance. The final boolean field is used to disable this, and
instead the effect is played from 2 blocks away in the correct
direction. Currently this is only used for effect 1013
(mob.wither.spawn), and is ignored for any other value by the client.

  Packet ID   State   Bound To   Field Name                Field Type   Notes
  ----------- ------- ---------- ------------------------- ------------ -------------------------------------------
  0x28        Play    Client     Effect ID                 Int          The ID of the effect, see below
                                 Location                  Position     The location of the effect
                                 Data                      Int          Extra data for certain effects, see below
                                 Disable Relative Volume   Boolean      See above

Effect IDs:

+----------+----------------------------+----------------------------+
| ID       | Name                       | Data                       |
+==========+============================+============================+
| Sound    |                            |                            |
+----------+----------------------------+----------------------------+
| 1000     | `random.click`             |                            |
+----------+----------------------------+----------------------------+
| 1001     | `random.click`             |                            |
+----------+----------------------------+----------------------------+
| 1002     | `random.bow`               |                            |
+----------+----------------------------+----------------------------+
| 1003     | `random.door_open` or      |                            |
|          | `random.door_close` (50/50 |                            |
|          | chance)                    |                            |
+----------+----------------------------+----------------------------+
| 1004     | `random.fizz`              |                            |
+----------+----------------------------+----------------------------+
| 1005     | Play a music disc.         | ```{=mediawiki}            |
|          |                            | {{Minecraft Wi             |
|          |                            | ki|Music Discs|Record ID}} |
|          |                            | ```                        |
+----------+----------------------------+----------------------------+
| 1006     | *not assigned*             |                            |
+----------+----------------------------+----------------------------+
| 1007     | `mob.ghast.charge`         |                            |
+----------+----------------------------+----------------------------+
| 1008     | `mob.ghast.fireball`       |                            |
+----------+----------------------------+----------------------------+
| 1009     | `mob.ghast.fireball`, but  |                            |
|          | with a lower volume        |                            |
+----------+----------------------------+----------------------------+
| 1010     | `mob.zombie.wood`          |                            |
+----------+----------------------------+----------------------------+
| 1011     | `mob.zombie.metal`         |                            |
+----------+----------------------------+----------------------------+
| 1012     | `mob.zombie.woodbreak`     |                            |
+----------+----------------------------+----------------------------+
| 1013     | `mob.wither.spawn`         |                            |
+----------+----------------------------+----------------------------+
| 1014     | `mob.wither.shoot`         |                            |
+----------+----------------------------+----------------------------+
| 1015     | `mob.bat.takeoff`          |                            |
+----------+----------------------------+----------------------------+
| 1016     | `mob.zombie.infect`        |                            |
+----------+----------------------------+----------------------------+
| 1017     | `mob.zombie.unfect`        |                            |
+----------+----------------------------+----------------------------+
| 1018     | `mob.enderdragon.end`      |                            |
+----------+----------------------------+----------------------------+
| 1020     | `random.anvil_break`       |                            |
+----------+----------------------------+----------------------------+
| 1021     | `random.anvil_use`         |                            |
+----------+----------------------------+----------------------------+
| 1022     | `random.anvil_land`        |                            |
+----------+----------------------------+----------------------------+
| Particle |                            |                            |
+----------+----------------------------+----------------------------+
| 2000     | Spawns 10 smoke particles, | Direction, see below       |
|          | e.g. from a fire           |                            |
+----------+----------------------------+----------------------------+
| 2001     | Block break                | ```{=mediawiki}            |
|          |                            | {{Minecraft W              |
|          |                            | iki|Data values|Block ID}} |
|          |                            | ```                        |
+----------+----------------------------+----------------------------+
| 2002     | Splash potion. Particle    | [Potion                    |
|          | effect + glass break       | ID](http://www             |
|          | sound.                     | .lb-stuff.com/Minecraft/Po |
|          |                            | tionDataValues1.9pre3.txt) |
+----------+----------------------------+----------------------------+
| 2003     | Eye of Ender entity break  |                            |
|          | animation --- particles    |                            |
|          | and sound                  |                            |
+----------+----------------------------+----------------------------+
| 2004     | Mob spawn particle effect: |                            |
|          | smoke + flames             |                            |
+----------+----------------------------+----------------------------+
| 2005     | Spawn "happy villager"     |                            |
|          | effect (green crosses),    |                            |
|          | used for bonemealing       |                            |
|          | vegetation                 |                            |
+----------+----------------------------+----------------------------+

Smoke directions:

  ID   Direction
  ---- ------------------
  0    South-East
  1    South
  2    South-West
  3    East
  4    (Up or middle ?)
  5    West
  6    North-East
  7    North
  8    North-West

#### Sound Effect {#sound_effect}

Used to play a sound effect on the client.

Custom sounds may be added by resource packs.

  Packet ID   State   Bound To   Field Name          Field Type      Notes
  ----------- ------- ---------- ------------------- --------------- -------------------------------------------------------------------------------------------------------------------------------------------
  0x29        Play    Client     Sound name          String          All known sound effect names can be seen [here](https://github.com/SirCmpwn/Craft.Net/blob/master/source/Craft.Net.Common/SoundEffect.cs)
                                 Effect position X   Int             Effect X multiplied by 8
                                 Effect position Y   Int             Effect Y multiplied by 8
                                 Effect position Z   Int             Effect Z multiplied by 8
                                 Volume              Float           1 is 100%, can be more
                                 Pitch               Unsigned Byte   63 is 100%, can be more

#### Particle

Displays the named particle

  Packet ID   State   Bound To   Field Name       Field Type        Notes
  ----------- ------- ---------- ---------------- ----------------- ----------------------------------------------------------------------------------------------------------------------------------
  0x2A        Play    Client     Particle ID      Int               See below
                                 Long Distance    Boolean           If true, particle distance increases from 256 to 65536
                                 X                Float             X position of the particle
                                 Y                Float             Y position of the particle
                                 Z                Float             Z position of the particle
                                 Offset X         Float             This is added to the X position after being multiplied by random.nextGaussian()
                                 Offset Y         Float             This is added to the Y position after being multiplied by random.nextGaussian()
                                 Offset Z         Float             This is added to the Z position after being multiplied by random.nextGaussian()
                                 Particle Data    Float             The data of each particle
                                 Particle Count   Int               The number of particles to create
                                 Data             Array of VarInt   Length depends on particle. \"iconcrack\" has length of 2, \"blockcrack\", and \"blockdust\" have lengths of 1, the rest have 0.

Particle IDs:

  Particle Name                   Particle ID
  ------------------------------- -------------
  explode                         0
  largeexplosion                  1
  hugeexplosion                   2
  fireworksSpark                  3
  bubble                          4
  splash                          5
  wake                            6
  suspended                       7
  depthsuspend                    8
  crit                            9
  magicCrit                       10
  smoke                           11
  largesmoke                      12
  spell                           13
  instantSpell                    14
  mobSpell                        15
  mobSpellAmbient                 16
  witchMagic                      17
  dripWater                       18
  dripLava                        19
  angryVillager                   20
  happyVillager                   21
  townaura                        22
  note                            23
  portal                          24
  enchantmenttable                25
  flame                           26
  lava                            27
  footstep                        28
  cloud                           29
  reddust                         30
  snowballpoof                    31
  snowshovel                      32
  slime                           33
  heart                           34
  barrier                         35
  iconcrack\_(id)\_(data)         36
  blockcrack\_(id+(data\<\<12))   37
  blockdust\_(id)                 38
  droplet                         39
  take                            40
  mobappearance                   41

#### Change Game State {#change_game_state}

It appears when a bed can\'t be used as a spawn point and when the rain
state changes.

  Packet ID   State   Bound To   Field Name   Field Type      Notes
  ----------- ------- ---------- ------------ --------------- -------------------
  0x2B        Play    Client     Reason       Unsigned Byte   See below
                                 Value        Float           Depends on Reason

*Reason codes*:

  Reason   Effect                                   Value
  -------- ---------------------------------------- -----------------------------------------------------------------------------------------------------------------------
  0        Invalid Bed                              
  1        End raining                              
  2        Begin raining                            
  3        Change game mode                         0: Survival, 1: Creative, 2: Adventure, 3: Spectator
  4        Enter credits                            
  5        Demo message                             0: Show welcome to demo screen, 101: Tell movement controls, 102: Tell jump control, 103: Tell inventory control
  6        Arrow hitting player                     Appears to be played when an arrow strikes another player in Multiplayer
  7        Fade value                               The current darkness value. 1 = Dark, 0 = Bright, Setting the value higher causes the game to change color and freeze
  8        Fade time                                Time in ticks for the sky to fade
  10       Play mob appearance (effect and sound)   Unknown

#### Spawn Global Entity {#spawn_global_entity}

With this packet, the server notifies the client of thunderbolts
striking within a 512 block radius around the player. The coordinates
specify where exactly the thunderbolt strikes.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ----------------------------------------------------------------------------------
  0x2C        Play    Client     Entity ID    VarInt       The EID of the thunderbolt
                                 Type         Byte         The global entity type, currently always 1 for thunderbolt
                                 X            Int          Thunderbolt X, a [fixed-point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Y            Int          Thunderbolt Y, a [fixed-point number](Data_Types#Fixed-point_numbers "wikilink")
                                 Z            Int          Thunderbolt Z, a [fixed-point number](Data_Types#Fixed-point_numbers "wikilink")

#### Open Window {#open_window}

This is sent to the client when it should open an inventory, such as a
chest, workbench, or furnace. This message is not sent anywhere for
clients opening their own inventory.

  Packet ID   State   Bound To   Field Name        Field Type                Notes
  ----------- ------- ---------- ----------------- ------------------------- ----------------------------------------------------------------------------------------------------------------
  0x2D        Play    Client     Window ID         Unsigned Byte             A unique id number for the window to be displayed. Notchian server implementation is a counter, starting at 1.
                                 Window Type       String                    The window type to use for display. See [Inventory](Inventory "wikilink") for a list.
                                 Window Title      [Chat](Chat "wikilink")   The title of the window
                                 Number Of Slots   Unsigned Byte             Number of slots in the window (excluding the number of slots in the player inventory)
                                 Entity ID         Optional Int              EntityHorse\'s EID. Only sent when Window Type is "EntityHorse"

See [Inventory](Inventory "wikilink") for further information.

#### Close Window {#close_window}

This packet is sent from the server to the client when a window is
forcibly closed, such as when a chest is destroyed while it\'s open.

Note, notchian clients send a close window packet with Window ID 0 to
close their inventory even though there is never an [Open
Window](#Open_Window "wikilink") packet for inventory.

  Packet ID   State   Bound To   Field Name   Field Type      Notes
  ----------- ------- ---------- ------------ --------------- ----------------------------------------------------------------
  0x2E        Play    Client     Window ID    Unsigned Byte   This is the ID of the window that was closed. 0 for inventory.

#### Set Slot {#set_slot}

Sent by the server when an item in a slot (in a window) is
added/removed.

  Packet ID   State   Bound To   Field Name   Field Type                     Notes
  ----------- ------- ---------- ------------ ------------------------------ ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  0x2F        Play    Client     Window ID    Byte                           The window which is being updated. 0 for player inventory. Note that all known window types include the player inventory. This packet will only be sent for the currently opened window while the player is performing actions, even if it affects the player inventory. After the window is closed, a number of these packets are sent to update the player\'s inventory window (0).
                                 Slot         Short                          The slot that should be updated
                                 Slot Data    [Slot](Slot_Data "wikilink")   

To set the curser (the item currently dragged with the mouse), use -1 as
Window ID and as Slot

#### Window Items {#window_items}

![The inventory slots](Inventory-slots.png "The inventory slots")

Sent by the server when items in multiple slots (in a window) are
added/removed. This includes the main inventory, equipped armour and
crafting slots.

  Packet ID   State   Bound To   Field Name   Field Type                              Notes
  ----------- ------- ---------- ------------ --------------------------------------- --------------------------------------------------------------------------
  0x30        Play    Client     Window ID    Unsigned Byte                           The ID of window which items are being sent for. 0 for player inventory.
                                 Count        Short                                   Number of elements in the following array
                                 Slot Data    Array of [Slot](Slot_Data "wikilink")   

See [inventory windows](Inventory#Windows "wikilink") for further
information about how slots are indexed.

#### Window Property {#window_property}

This packet is used to inform the client that part of a GUI window
should be updated.

  Packet ID   State   Bound To   Field Name   Field Type      Notes
  ----------- ------- ---------- ------------ --------------- -------------------------------------------
  0x31        Play    Client     Window ID    Unsigned Byte   
                                 Property     Short           The property to be updated, see below
                                 Value        Short           The new value for the property, see below

The meaning of the Property field depends on the type of the window. The
following table shows the known combinations of window type and
property, and how the value is to be interpreted.

  Window type         Property                                                           Value
  ------------------- ------------------------------------------------------------------ ----------------------------------------------------------------------
  Furnace             0: Fire icon (fuel left)                                           counting from fuel burn time down to 0 (in-game ticks)
                      1: Maximum fuel burn time                                          fuel burn time or 0 (in-game ticks)
                      2: Progress arrow                                                  0--200 (in-game ticks)
                      3: Maximum progress                                                always 200
  Enchantment Table   0: Level requirement for top enchantment slot                      The enchantment\'s xp level requirement
                      1: Level requirement for middle enchantment slot                   
                      2: Level requirement for bottom enchantment slot                   
                      3: The seed for generating the enchantments view for the client    Unknown
                      4: Enchantment shown on mouse hover over top enchantment slot      The enchantment id (set to -1 to hide it)
                      5: Enchantment shown on mouse hover over middle enchantment slot   
                      6: Enchantment shown on mouse hover over bottom enchantment slot   
  Beacon              0: Power level                                                     Unknown
                      1: First potion effect                                             Unknown
                      2: Second potion effect                                            Unknown
  Anvil               0: Repair cost                                                     The repair\'s cost in xp levels
  Brewing Stand       0: Brew time                                                       0--400, with 400 making the arrow empty, and 0 making the arrow full

#### Confirm Transaction {#confirm_transaction}

A packet from the server indicating whether a request from the client
was accepted, or whether there was a conflict (due to lag).

  Packet ID   State   Bound To   Field Name      Field Type   Notes
  ----------- ------- ---------- --------------- ------------ -------------------------------------------------------------------------------------------------
  0x32        Play    Client     Window ID       Byte         The ID of the window that the action occurred in
                                 Action Number   Short        Every action that is to be accepted has a unique number. This field corresponds to that number.
                                 Accepted        Boolean      Whether the action was accepted

#### Update Sign {#update_sign}

This message is sent from the server to the client whenever a sign is
discovered or created. This message is NOT sent when a sign is destroyed
or unloaded.

  Packet ID   State   Bound To   Field Name   Field Type                Notes
  ----------- ------- ---------- ------------ ------------------------- ---------------------------------
  0x33        Play    Client     Location     Position                  
                                 Line 1       [Chat](Chat "wikilink")   First line of text in the sign
                                 Line 2       [Chat](Chat "wikilink")   Second line of text in the sign
                                 Line 3       [Chat](Chat "wikilink")   Third line of text in the sign
                                 Line 4       [Chat](Chat "wikilink")   Fourth line of text in the sign

#### Map

Updates a rectangular area on a map.

  Packet ID   State   Bound To   Field Name                         Field Type
  ----------- ------- ---------- ------------- -------------------- ---------------------------------
  0x34        Play    Client     Item Damage                        VarInt
                                 Scale                              Byte
                                 Icon Count                         VarInt
                                 Icon          Direction And Type   Array
                                               X                    
                                               Z                    
                                 Columns                            Byte
                                 Rows                               Optional Byte
                                 X                                  Optional Byte
                                 Z                                  Optional Byte
                                 Length                             Optional VarInt
                                 Data                               Optional Array of Unsigned Byte

#### Update Block Entity {#update_block_entity}

Essentially a block update on a block entity.

  Packet ID   State   Bound To   Field Name   Field Type                           Notes
  ----------- ------- ---------- ------------ ------------------------------------ ------------------------------------------
  0x35        Play    Client     Location     Position                             
                                 Action       Unsigned Byte                        The type of update to perform, see below
                                 NBT Data     Optional [NBT Tag](NBT "wikilink")   If not present then it\'s a TAG_END (0)

*Action* field:

-   **1**: Set SpawnPotentials of a mob spawner
-   **2**: Set command block text (command and last execution status)
-   **3**: Set the level, primary, and secondary powers of a beacon
-   **4**: Set rotation and skin of mob head
-   **5**: Set type of flower in flower pot
-   **6**: Set base color and patterns on a banner

#### Open Sign Editor {#open_sign_editor}

Sent when the client has placed a sign and is allowed to send [Update
Sign](#Update_Sign_2 "wikilink").

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ -------
  0x36        Play    Client     Location     Position     

#### Statistics

  Packet ID   State   Bound To   Field Name           Field Type
  ----------- ------- ---------- ------------ ------- ------------
  0x37        Play    Client     Count                VarInt
                                 Statistic    Name    Array
                                              Value   

#### Player List Item {#player_list_item}

Sent by the notchian server to update the user list (`<tab>`{=html} in
the client).

  Packet ID   State   Bound To   Field Name                                   
  ----------- ------- ---------- ------------------- ------------------------ ----------------------
  0x38        Play    Client     Action                                       
                                 Number Of Players                            
                                 Player              UUID                     
                                                     Action                   Field Name
                                                     0: add player            Name
                                                                              Number Of Properties
                                                                              Property
                                                                              
                                                                              
                                                                              
                                                                              Gamemode
                                                                              Ping
                                                                              Has Display Name
                                                                              Display Name
                                                     1: update gamemode       Gamemode
                                                     2: update latency        Ping
                                                     3: update display name   Has Display Name
                                                                              Display Name
                                                     4: remove player         *no fields*

The Property field looks as in the response of [Mojang API#UUID -\>
Profile + Skin/Cape](Mojang_API#UUID_->_Profile_+_Skin/Cape "wikilink"),
except of course using the protocol format instead of JSON. That is,
each player will usually have one property with Name "textures" and
Value being a base64-encoded JSON string as documented at [Mojang
API#UUID -\> Profile +
Skin/Cape](Mojang_API#UUID_->_Profile_+_Skin/Cape "wikilink"). An empty
properties array is also acceptable, and will cause clients to display
the player with one of the two default skins depending on UUID.

#### Player Abilities {#player_abilities}

The latter 2 floats are used to indicate the field of view and flying
speed respectively, while the first byte is used to determine the value
of 4 booleans.

  Packet ID   State   Bound To   Field Name               Field Type   Notes
  ----------- ------- ---------- ------------------------ ------------ ---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  0x39        Play    Client     Flags                    Byte         Bit field, see below
                                 Flying Speed             Float        
                                 Field of View Modifier   Float        Modifies the field of view, like a speed potion. A Notchian server will use the same value as the movement speed (send in the [Entity Properties](Protocol#Entity_Properties "wikilink") packet).

About the flags:

  Field           Bit
  --------------- ------
  Invulnerable    0x01
  Flying          0x02
  Allow Flying    0x04
  Creative Mode   0x08

#### Tab-Complete {#tab_complete}

The server responds with a list of auto-completions of the last word
sent to it. In the case of regular chat, this is a player username.
Command names and parameters are also supported.

  Packet ID   State   Bound To   Field Name   Field Type        Notes
  ----------- ------- ---------- ------------ ----------------- -------------------------------------------------------------------------------------------------------------------------
  0x3A        Play    Client     Count        VarInt            Number of elements in the following array
                                 Matches      Array of String   One eligible command, note that each command is sent separately instead of in a single string, hence the need for Count

#### Scoreboard Objective {#scoreboard_objective}

This is sent to the client when it should create a new
`{{Minecraft Wiki|scoreboard}}`{=mediawiki} objective or remove one.

  Packet ID   State   Bound To   Field Name        Field Type        Notes
  ----------- ------- ---------- ----------------- ----------------- ---------------------------------------------------------------------------------------
  0x3B        Play    Client     Objective Name    String            An unique name for the objective
                                 Mode              Byte              0 to create the scoreboard. 1 to remove the scoreboard. 2 to update the display text.
                                 Objective Value   Optional String   Only if mode is 0 or 2. The text to be displayed for the score
                                 Type              Optional String   Only if mode is 0 or 2. "integer" or "hearts"

#### Update Score {#update_score}

This is sent to the client when it should update a scoreboard item.

  Packet ID   State   Bound To   Field Name       Field Type        Notes
  ----------- ------- ---------- ---------------- ----------------- --------------------------------------------------------------------------------------
  0x3C        Play    Client     Score Name       String            The name of the score to be updated or removed
                                 Action           Byte              0 to create/update an item. 1 to remove an item.
                                 Objective Name   String            The name of the objective the score belongs to
                                 Value            Optional VarInt   The score to be displayed next to the entry. Only sent when Action does not equal 1.

#### Display Scoreboard {#display_scoreboard}

This is sent to the client when it should display a scoreboard.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ---------------------------------------------------------------------
  0x3D        Play    Client     Position     Byte         The position of the scoreboard. 0: list, 1: sidebar, 2: below name.
                                 Score Name   String       The unique name for the scoreboard to be displayed.

#### Teams

Creates and updates teams.

+----------+-------+----------+----------+----------+----------+
| Packet   | State | Bound To | Field    | Field    | Notes    |
| ID       |       |          | Name     | Type     |          |
+==========+=======+==========+==========+==========+==========+
| 0x3E     | Play  | Client   | Team     | String   | A unique |
|          |       |          | Name     |          | name for |
|          |       |          |          |          | the      |
|          |       |          |          |          | team.    |
|          |       |          |          |          | (Shared  |
|          |       |          |          |          | with     |
|          |       |          |          |          | scor     |
|          |       |          |          |          | eboard). |
+----------+-------+----------+----------+----------+----------+
|          |       |          | Mode     | Byte     | If 0     |
|          |       |          |          |          | then the |
|          |       |          |          |          | team is  |
|          |       |          |          |          | created. |
|          |       |          |          |          |          |
|          |       |          |          |          | If 1     |
|          |       |          |          |          | then the |
|          |       |          |          |          | team is  |
|          |       |          |          |          | removed. |
|          |       |          |          |          |          |
|          |       |          |          |          | If 2 the |
|          |       |          |          |          | team     |
|          |       |          |          |          | team     |
|          |       |          |          |          | inf      |
|          |       |          |          |          | ormation |
|          |       |          |          |          | is       |
|          |       |          |          |          | updated. |
|          |       |          |          |          |          |
|          |       |          |          |          | If 3     |
|          |       |          |          |          | then new |
|          |       |          |          |          | players  |
|          |       |          |          |          | are      |
|          |       |          |          |          | added to |
|          |       |          |          |          | the      |
|          |       |          |          |          | team.    |
|          |       |          |          |          |          |
|          |       |          |          |          | If 4     |
|          |       |          |          |          | then     |
|          |       |          |          |          | players  |
|          |       |          |          |          | are      |
|          |       |          |          |          | removed  |
|          |       |          |          |          | from the |
|          |       |          |          |          | team.    |
+----------+-------+----------+----------+----------+----------+
|          |       |          | Team     | Optional | Only if  |
|          |       |          | Display  | String   | Mode = 0 |
|          |       |          | Name     |          | or 2.    |
+----------+-------+----------+----------+----------+----------+
|          |       |          | Team     | Optional | Only if  |
|          |       |          | Prefix   | String   | Mode = 0 |
|          |       |          |          |          | or 2.    |
|          |       |          |          |          | D        |
|          |       |          |          |          | isplayed |
|          |       |          |          |          | before   |
|          |       |          |          |          | the      |
|          |       |          |          |          | p        |
|          |       |          |          |          | layers\' |
|          |       |          |          |          | name     |
|          |       |          |          |          | that are |
|          |       |          |          |          | part of  |
|          |       |          |          |          | this     |
|          |       |          |          |          | team     |
+----------+-------+----------+----------+----------+----------+
|          |       |          | Team     | Optional | Only if  |
|          |       |          | Suffix   | String   | Mode = 0 |
|          |       |          |          |          | or 2.    |
|          |       |          |          |          | D        |
|          |       |          |          |          | isplayed |
|          |       |          |          |          | after    |
|          |       |          |          |          | the      |
|          |       |          |          |          | p        |
|          |       |          |          |          | layers\' |
|          |       |          |          |          | name     |
|          |       |          |          |          | that are |
|          |       |          |          |          | part of  |
|          |       |          |          |          | this     |
|          |       |          |          |          | team     |
+----------+-------+----------+----------+----------+----------+
|          |       |          | Friendly | Optional | Only if  |
|          |       |          | Fire     | Byte     | Mode = 0 |
|          |       |          |          |          | or 2. 0  |
|          |       |          |          |          | for off, |
|          |       |          |          |          | 1 for    |
|          |       |          |          |          | on, 3    |
|          |       |          |          |          | for      |
|          |       |          |          |          | seeing   |
|          |       |          |          |          | friendly |
|          |       |          |          |          | in       |
|          |       |          |          |          | visibles |
+----------+-------+----------+----------+----------+----------+
|          |       |          | Name Tag | Optional | Only if  |
|          |       |          | Vi       | String   | Mode = 0 |
|          |       |          | sibility |          | or 2.    |
|          |       |          |          |          | always,  |
|          |       |          |          |          | hi       |
|          |       |          |          |          | deForOth |
|          |       |          |          |          | erTeams, |
|          |       |          |          |          | hideFor  |
|          |       |          |          |          | OwnTeam, |
|          |       |          |          |          | never    |
+----------+-------+----------+----------+----------+----------+
|          |       |          | Color    | Optional | Only if  |
|          |       |          |          | Byte     | Mode = 0 |
|          |       |          |          |          | or 2.    |
|          |       |          |          |          | Same as  |
|          |       |          |          |          | [Chat](  |
|          |       |          |          |          | Chat "wi |
|          |       |          |          |          | kilink") |
|          |       |          |          |          | colors   |
+----------+-------+----------+----------+----------+----------+
|          |       |          | Player   | Optional | Only if  |
|          |       |          | Count    | VarInt   | Mode = 0 |
|          |       |          |          |          | or 3 or  |
|          |       |          |          |          | 4.       |
|          |       |          |          |          | Number   |
|          |       |          |          |          | of       |
|          |       |          |          |          | players  |
|          |       |          |          |          | in the   |
|          |       |          |          |          | array    |
+----------+-------+----------+----------+----------+----------+
|          |       |          | Players  | Optional | Only if  |
|          |       |          |          | Array of | Mode = 0 |
|          |       |          |          | String   | or 3 or  |
|          |       |          |          |          | 4.       |
|          |       |          |          |          | Players  |
|          |       |          |          |          | to be    |
|          |       |          |          |          | adde     |
|          |       |          |          |          | d/remove |
|          |       |          |          |          | from the |
|          |       |          |          |          | team.    |
|          |       |          |          |          | Max 40   |
|          |       |          |          |          | ch       |
|          |       |          |          |          | aracters |
|          |       |          |          |          | so may   |
|          |       |          |          |          | be       |
|          |       |          |          |          | uuid\'s  |
|          |       |          |          |          | later    |
+----------+-------+----------+----------+----------+----------+

#### Plugin Message {#plugin_message}

Mods and plugins can use this to send their data. Minecraft itself uses
a number of [plugin channels](plugin_channel "wikilink"). These internal
channels are prefixed with `MC|`.

More documentation on this:
[<http://dinnerbone.com/blog/2012/01/13/minecraft-plugin-channels-messaging/>](http://dinnerbone.com/blog/2012/01/13/minecraft-plugin-channels-messaging/)

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ------------------------------------------------------------------------------------------------------
  0x3F        Play    Client     Channel      String       Name of the [plugin channel](plugin_channel "wikilink") used to send the data
                                 Data         Byte Array   Any data, depending on the channel. `MC|` channels are documented [here](plugin_channel "wikilink").

#### Disconnect

Sent by the server before it disconnects a client. The client assumes
that the server has already closed the connection by the time the packet
arrives.

  Packet ID   State   Bound To   Field Name   Field Type                Notes
  ----------- ------- ---------- ------------ ------------------------- ---------------------------------------------------------
  0x40        Play    Client     Reason       [Chat](Chat "wikilink")   Displayed to the client when the connection terminates.

#### Server Difficulty {#server_difficulty}

Changes the difficulty setting in the client\'s option menu

  Packet ID   State   Bound To   Field Name   Field Type      Notes
  ----------- ------- ---------- ------------ --------------- ------------------------------------------
  0x41        Play    Client     Difficulty   Unsigned Byte   0: peaceful, 1: easy, 2: normal, 3: hard

#### Combat Event {#combat_event}

  Packet ID   State   Bound To   Field Name   Field Type        Notes
  ----------- ------- ---------- ------------ ----------------- ------------------------------------------------
  0x42        Play    Client     Event        VarInt            0: enter combat, 1: end combat, 2: entity dead
                                 Duration     Optional VarInt   Only for end combat
                                 Player ID    Optional VarInt   Only for entity dead
                                 Entity ID    Optional Int      Only for end combat and entity dead
                                 Message      String            Only for entity dead

#### Camera

Sets the entity that the player renders from. This is normally used when
the left-clicks an entity while in spectator mode.

The player\'s camera will move with the entity and look where it is
looking. The entity is often another player, but can be any type of
entity. The player is unable to move this entity (move packets will act
as if they are coming from the other entity).

If the given entity is not loaded by the player, this packet is ignored.
To return control to the player, send this packet with their entity ID.

The Notchian server resets this (sends it back to the default entity)
whenever the spectated entity is killed or the player sneaks, but only
if they were spectating an entity. It also sends this packet whenever
the player switches out of spectator mode (even if they weren\'t
spectating an entity).

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ -------------------------------------------------
  0x43        Play    Client     Camera ID    VarInt       ID of the entity to set the client\'s camera to

The notchian also loads certain shaders for given entities:

-   Creeper → `shaders/post/creeper.json`
-   Spider (and cave spider) → `shaders/post/spider.json`
-   Enderman → `shaders/post/invert.json`
-   Anything else → the current shader is unloaded

#### World Border {#world_border}

  Packet ID   State   Bound To   Field Name                                         Field Type
  ----------- ------- ---------- ----------------------- -------------------------- ------------
  0x44        Play    Client     Action                                             VarInt
                                 Action                  Field Name                 
                                 0: set size             Radius                     Double
                                 1: lerp size            Old Radius                 Double
                                                         New Radius                 Double
                                                         Speed                      VarLong
                                 2: set center           X                          Double
                                                         Z                          Double
                                 3: initialize           X                          Double
                                                         Z                          Double
                                                         Old Radius                 Double
                                                         New Radius                 Double
                                                         Speed                      VarLong
                                                         Portal Teleport Boundary   VarInt
                                                         Warning Time               VarInt
                                                         Warning Blocks             VarInt
                                 4: set warning time     Warning Time               VarInt
                                 5: set warning blocks   Warning Blocks             VarInt

#### Title

  Packet ID   State   Bound To   Field Name                                 Field Type
  ----------- ------- ---------- -------------------------- --------------- -------------------------
  0x45        Play    Client     Action                                     VarInt
                                 Action                     Field Name      
                                 0: set title               Title Text      [Chat](Chat "wikilink")
                                 1: set subtitle            Subtitle Text   [Chat](Chat "wikilink")
                                 2: set times and display   Fade In         Int
                                                            Stay            Int
                                                            Fade Out        Int
                                 3: hide                    *no fields*     *no fields*
                                 4: reset                   *no fields*     *no fields*

"Hide" makes the title disappear, but if you run times again the same
title will appear. "Reset" erases the text.

#### Set Compression {#set_compression}

```{=mediawiki}
{{Warning|This packet is completely broken and has been removed in the 1.9 snapshots. The packet [[#Set Compression 2|Set Compression]] ([[#Login|Login]], 0x03, clientbound) should be used instead.}}
```
  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ----------------------------------------------------
  0x46        Play    Client     Threshold    VarInt       Packets of this size or higher *may* be compressed

#### Player List Header And Footer {#player_list_header_and_footer}

  Packet ID   State   Bound To   Field Name   Field Type                Notes
  ----------- ------- ---------- ------------ ------------------------- -------
  0x47        Play    Client     Header       [Chat](Chat "wikilink")   
                                 Footer       [Chat](Chat "wikilink")   

#### Resource Pack Send {#resource_pack_send}

+----------+-------+----------+----------+----------+----------+
| Packet   | State | Bound To | Field    | Field    | Notes    |
| ID       |       |          | Name     | Type     |          |
+==========+=======+==========+==========+==========+==========+
| 0x48     | Play  | Client   | URL      | String   | The URL  |
|          |       |          |          |          | to the   |
|          |       |          |          |          | resource |
|          |       |          |          |          | pack.    |
+----------+-------+----------+----------+----------+----------+
|          |       |          | Hash     | String   | A 40     |
|          |       |          |          |          | c        |
|          |       |          |          |          | haracter |
|          |       |          |          |          | hex      |
|          |       |          |          |          | adecimal |
|          |       |          |          |          | and      |
|          |       |          |          |          | l        |
|          |       |          |          |          | owercase |
|          |       |          |          |          | [SH      |
|          |       |          |          |          | A-1](wik |
|          |       |          |          |          | ipedia:S |
|          |       |          |          |          | HA-1 "wi |
|          |       |          |          |          | kilink") |
|          |       |          |          |          | hash of  |
|          |       |          |          |          | the      |
|          |       |          |          |          | resource |
|          |       |          |          |          | pack     |
|          |       |          |          |          | file.    |
|          |       |          |          |          | (must be |
|          |       |          |          |          | lower    |
|          |       |          |          |          | case in  |
|          |       |          |          |          | order to |
|          |       |          |          |          | work)\   |
|          |       |          |          |          | If it\'s |
|          |       |          |          |          | not a 40 |
|          |       |          |          |          | c        |
|          |       |          |          |          | haracter |
|          |       |          |          |          | hex      |
|          |       |          |          |          | adecimal |
|          |       |          |          |          | string,  |
|          |       |          |          |          | the      |
|          |       |          |          |          | client   |
|          |       |          |          |          | will not |
|          |       |          |          |          | use it   |
|          |       |          |          |          | for hash |
|          |       |          |          |          | veri     |
|          |       |          |          |          | fication |
|          |       |          |          |          | and      |
|          |       |          |          |          | likely   |
|          |       |          |          |          | waste    |
|          |       |          |          |          | b        |
|          |       |          |          |          | andwidth |
|          |       |          |          |          | --- but  |
|          |       |          |          |          | it will  |
|          |       |          |          |          | still    |
|          |       |          |          |          | treat it |
|          |       |          |          |          | as a     |
|          |       |          |          |          | unique   |
|          |       |          |          |          | id       |
+----------+-------+----------+----------+----------+----------+

#### Update Entity NBT {#update_entity_nbt}

  Packet ID   State   Bound To   Field Name   Field Type                  Notes
  ----------- ------- ---------- ------------ --------------------------- -------
  0x49        Play    Client     Entity ID    VarInt                      
                                 Tag          [NBT Tag](NBT "wikilink")   

### Serverbound {#serverbound_1}

#### Keep Alive {#keep_alive_1}

The server will frequently send out a keep-alive, each containing a
random ID. The client must respond with the same packet.

  Packet ID   State   Bound To   Field Name      Field Type   Notes
  ----------- ------- ---------- --------------- ------------ -------
  0x00        Play    Server     Keep Alive ID   VarInt       

#### Chat Message {#chat_message_1}

The default server will check the message to see if it begins with a
\'/\'. If it doesn\'t, the username of the sender is prepended and sent
to all other clients (including the original sender). If it does, the
server assumes it to be a command and attempts to process it. A message
longer than 100 characters will cause the server to kick the client.
This change was initially done by allowing the client to not slice the
message up to 119 (the previous limit), without changes to the server.
For this reason, the vanilla server kept the code to cut messages at
119, but this isn\'t a protocol limitation and can be ignored.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ -------------------------------------------------------------
  0x01        Play    Server     Message      String       The client sends the raw input, not [Chat](Chat "wikilink")

#### Use Entity {#use_entity}

This packet is sent from the client to the server when the client
attacks or right-clicks another entity (a player, minecart, etc).

A Notchian server only accepts this packet if the entity being
attacked/used is visible without obstruction and within a 4-unit radius
of the player\'s position.

Note that middle-click in creative mode is interpreted by the client and
sent as a [Creative Inventory
Action](#Creative_Inventory_Action "wikilink") packet instead.

  Packet ID   State   Bound To   Field Name   Field Type       Notes
  ----------- ------- ---------- ------------ ---------------- ----------------------------------------
  0x02        Play    Server     Target       VarInt           
                                 Type         VarInt           0: interact, 1: attack, 2: interact at
                                 Target X     Optional Float   Only if Type is interact at
                                 Target Y     Optional Float   Only if Type is interact at
                                 Target Z     Optional Float   Only if Type is interact at

#### Player

This packet as well as [Player Position](#Player_Position "wikilink")
([Play](#Play "wikilink"), 0x04, serverbound), [Player
Look](#Player_Look "wikilink") ([Play](#Play "wikilink"), 0x05,
serverbound), and [Player Position And
Look](#Player_Position_And_Look_2 "wikilink") ([Play](#Play "wikilink"),
0x06, serverbound) are called the "serverbound movement packets". At
least one of them must be sent on each tick to ensure that servers will
update things like player health correctly. Vanilla clients will send
Player Position once every 20 ticks even for a stationary player, and
Player on every other tick.

This packet is used to indicate whether the player is on ground
(walking/swimming), or airborne (jumping/falling).

When dropping from sufficient height, fall damage is applied when this
state goes from false to true. The amount of damage applied is based on
the point where it last changed from true to false. Note that there are
several movement related packets containing this state.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ------------------------------------------------------
  0x03        Play    Server     On Ground    Boolean      True if the client is on the ground, false otherwise

#### Player Position {#player_position}

Updates the player\'s XYZ position on the server.

If the distance between the last known position of the player on the
server and the new position set by this packet is greater than 100
units, this will result in the client being kicked for "You moved too
quickly :( (Hacking?)"

If the distance is greater than 10 units, the server will log the
warning message \"`<name>`{=html} moved too quickly!\", followed by two
coordinate triples (maybe movement delta?), but will not kick the
client.

Also if the fixed-point number of X or Z is set greater than 3.2×10^7^
the client will be kicked for "Illegal position".

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ------------------------------------------------------
  0x04        Play    Server     X            Double       Absolute position
                                 Feet Y       Double       Absolute position, normally Head Y - 1.62
                                 Z            Double       Absolute position
                                 On Ground    Boolean      True if the client is on the ground, false otherwise

#### Player Look {#player_look}

![The unit circle for
yaw](Minecraft-trig-yaw.png "The unit circle for yaw") ![The unit circle
of yaw, redrawn](Yaw.png "The unit circle of yaw, redrawn")

Updates the direction the player is looking in.

Yaw is measured in degrees, and does not follow classical trigonometry
rules. The unit circle of yaw on the XZ-plane starts at (0, 1) and turns
counterclockwise, with 90 at (-1, 0), 180 at (0,-1) and 270 at (1, 0).
Additionally, yaw is not clamped to between 0 and 360 degrees; any
number is valid, including negative numbers and numbers greater than
360.

Pitch is measured in degrees, where 0 is looking straight ahead, -90 is
looking straight up, and 90 is looking straight down.

The yaw and pitch of player (in degrees), standing at point (x0, y0, z0)
and looking towards point (x, y, z) one can be calculated with:

`dx = x-x0`\
`dy = y-y0`\
`dz = z-z0`\
`r = sqrt( dx*dx + dy*dy + dz*dz )`\
`yaw = -atan2(dx,dz)/PI*180`\
`if yaw < 0 then`\
`    yaw = 360 - yaw`\
`pitch = -arcsin(dy/r)/PI*180`

You can get a unit vector from a given yaw/pitch via:

`x = -cos(pitch) * sin(yaw)`\
`y = -sin(pitch)`\
`z =  cos(pitch) * cos(yaw)`

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ------------------------------------------------------
  0x05        Play    Server     Yaw          Float        Absolute rotation on the X Axis, in degrees
                                 Pitch        Float        Absolute rotation on the Y Axis, in degrees
                                 On Ground    Boolean      True if the client is on the ground, False otherwise

#### Player Position And Look {#player_position_and_look_1}

A combination of [Player Look](#Player_Look "wikilink") and [Player
Position](#Player_Position "wikilink").

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ------------------------------------------------------
  0x06        Play    Server     X            Double       Absolute position
                                 Feet Y       Double       Absolute feet position, normally Head Y - 1.62
                                 Z            Double       Absolute position
                                 Yaw          Float        Absolute rotation on the X Axis, in degrees
                                 Pitch        Float        Absolute rotation on the Y Axis, in degrees
                                 On Ground    Boolean      True if the client is on the ground, false otherwise

#### Player Digging {#player_digging}

Sent when the player mines a block. A Notchian server only accepts
digging packets with coordinates within a 6-unit radius of the player\'s
position.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ---------------------------------------------------------------
  0x07        Play    Server     Status       Byte         The action the player is taking against the block (see below)
                                 Location     Position     Block position
                                 Face         Byte         The face being hit (see below)

Status can (currently) be one of six values:

  Meaning                       Value
  ----------------------------- -------
  Started digging               `0`
  Cancelled digging             `1`
  Finished digging              `2`
  Drop item stack               `3`
  Drop item                     `4`
  Shoot arrow / finish eating   `5`

Notchian clients send a 0 (started digging) when they start digging and
a 2 (finished digging) once they think they are finished. If digging is
aborted, the client simply send a 1 (cancel digging).

Status code 4 (drop item) is a special case. In-game, when you use the
Drop Item command (keypress \'q\'), a dig packet with a status of 4, and
all other values set to 0, is sent from client to server. Status code 3
is similar, but drops the entire stack.

Status code 5 (shoot arrow / finish eating) is also a special case. The
x, y and z fields are all set to 0 like above, with the exception of the
face field, which is set to 255.

The face can be one of six values, representing the face being hit:

  Value    0    1    2    3    4    5
  -------- ---- ---- ---- ---- ---- ----
  Offset   -Y   +Y   -Z   +Z   -X   +X

#### Player Block Placement {#player_block_placement}

  Packet ID   State   Bound To   Field Name          Field Type                     Notes
  ----------- ------- ---------- ------------------- ------------------------------ ---------------------------------------------------
  0x08        Play    Server     Location            Position                       Block position
                                 Face                Byte                           The face on which the block is placed (see above)
                                 Held Item           [Slot](Slot_Data "wikilink")   
                                 Cursor Position X   Byte                           The position of the crosshair on the block
                                 Cursor Position Y   Byte                           
                                 Cursor Position Z   Byte                           

In normal operation (i.e. placing a block), this packet is sent once,
with the values set normally.

This packet has a special case where X, Y, Z, and Face are all -1. (Note
that Y is unsigned so set to 255.) This special packet indicates that
the currently held item for the player should have its state updated
such as eating food, pulling back bows, using buckets, etc.

In a Notchian Beta client, the block or item ID corresponds to whatever
the client is currently holding, and the client sends one of these
packets any time a right-click is issued on a surface, so no assumptions
can be made about the safety of the ID. However, with the implementation
of server-side inventory, a Notchian server seems to ignore the item ID,
instead operating on server-side inventory information and holding
selection. The client has been observed (1.2.5 and 1.3.2) to send both
real item IDs and -1 in a single session.

Special note on using buckets: When using buckets, the Notchian client
might send two packets: first a normal and then a special case. The
first normal packet is sent when you\'re looking at a block (e.g. the
water you want to scoop up). This normal packet does not appear to do
anything with a Notchian server. The second, special case packet appears
to perform the action --- based on current position/orientation and with
a distance check --- it appears that buckets can only be used within a
radius of 6 units.

#### Held Item Change {#held_item_change_1}

Sent when the player changes the slot selection

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ -----------------------------------------------
  0x09        Play    Server     Slot         Short        The slot which the player has selected (0--8)

#### Animation {#animation_1}

Sent when the player\'s arm swings

  Packet ID   State   Bound To   Field Name    Field Type   Notes
  ----------- ------- ---------- ------------- ------------ -------
  0x0A        Play    Server     *no fields*                

#### Entity Action {#entity_action}

Sent by the client to indicate that it has performed certain actions:
sneaking (crouching), sprinting, exiting a bed, jumping with a horse,
and opening a horse\'s inventory while riding it.

  Packet ID   State   Bound To   Field Name         Field Type   Notes
  ----------- ------- ---------- ------------------ ------------ ---------------------------------------------------------------------------------------------------
  0x0B        Play    Server     Entity ID          VarInt       Player ID
                                 Action ID          VarInt       The ID of the action, see below
                                 Action Parameter   VarInt       Only used by Horse Jump Boost, in which case it ranges from 0 to 100. In all other cases it is 0.

Action ID can be one of the following values:

  ID   Action
  ---- -----------------------------
  0    Start sneaking
  1    Stop sneaking
  2    Leave bed
  3    Start sprinting
  4    Stop sprinting
  5    Jump with horse
  6    Open ridden horse inventory

Leave Bed is only sent when the \"Leave Bed\" button is clicked on the
sleep GUI, not when waking up due today time.

Open ridden horse inventory is only sent when pressing the inventory key
on a horse - all other methods of opening a horse\'s inventory
(involving right-clicking or shift-right-clicking it) do not use this
packet.

#### Steer Vehicle {#steer_vehicle}

  Packet ID   State   Bound To   Field Name   Field Type      Notes
  ----------- ------- ---------- ------------ --------------- ------------------------------------
  0x0C        Play    Server     Sideways     Float           Positive to the left of the player
                                 Forward      Float           Positive forward
                                 Flags        Unsigned Byte   Bit mask. 0x1: jump, 0x2: unmount

#### Close Window {#close_window_1}

This packet is sent by the client when closing a window.

Notchian clients send a Close Window packet with Window ID 0 to close
their inventory even though there is never an [Open
Window](#Open_Window "wikilink") packet for the inventory.

  Packet ID   State   Bound To   Field Name   Field Type      Notes
  ----------- ------- ---------- ------------ --------------- -----------------------------------------------------------------------
  0x0D        Play    Server     Window ID    Unsigned Byte   This is the ID of the window that was closed. 0 for player inventory.

#### Click Window {#click_window}

This packet is sent by the player when it clicks on a slot in a window.

  Packet ID   State   Bound To   Field Name      Field Type                     Notes
  ----------- ------- ---------- --------------- ------------------------------ --------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  0x0E        Play    Server     Window ID       Unsigned Byte                  The ID of the window which was clicked. 0 for player inventory.
                                 Slot            Short                          The clicked slot number, see below
                                 Button          Byte                           The button used in the click, see below
                                 Action Number   Short                          A unique number for the action, implemented by Notchian as a counter, starting at 1. Used by the server to send back a [Confirm Transaction](#Confirm_Transaction "wikilink").
                                 Mode            Byte Enum                      Inventory operation mode, see below
                                 Clicked item    [Slot](Slot_Data "wikilink")   The clicked slot. Has to be empty (item ID = -1) for drop mode.

See [Inventory](Inventory "wikilink") for further information about how
slots are indexed.

When right-clicking on a stack of items, half the stack will be picked
up and half left in the slot. If the stack is an odd number, the half
left in the slot will be smaller of the amounts.

The distinct type of click performed by the client is determined by the
combination of the Mode and Button fields.

  Mode   Button   Slot       Trigger
  ------ -------- ---------- ---------------------------------------------------------
  0      0        Normal     Left mouse click
         1        Normal     Right mouse click
  1      0        Normal     Shift + left mouse click
         1        Normal     Shift + right mouse click *(identical behavior)*
  2      0        Normal     Number key 1
         1        Normal     Number key 2
         2        Normal     Number key 3
         ⋮        ⋮          ⋮
         8        Normal     Number key 9
  3      2        Normal     Middle click
  4      0        Normal\*   Drop key (Q) (\* Clicked item is different, see above)
         1        Normal\*   Ctrl + Drop key (Ctrl-Q) *(drops full stack)*
         0        -999       Left click outside inventory holding nothing *(no-op)*
         1        -999       Right click outside inventory holding nothing *(no-op)*
  5      0        -999       Starting left mouse drag *(or middle mouse)*
         4        -999       Starting right mouse drag
         1        Normal     Add slot for left-mouse drag
         5        Normal     Add slot for right-mouse drag
         2        -999       Ending left mouse drag
         6        -999       Ending right mouse drag
  6      0        Normal     Double click

Starting from version 1.5, "painting mode" is available for use in
inventory windows. It is done by picking up stack of something (more
than 1 item), then holding mouse button (left, right or middle) and
dragging held stack over empty (or same type in case of right button)
slots. In that case client sends the following to server after mouse
button release (omitting first pickup packet which is sent as usual):

1.  packet with mode 5, slot -999, button (0 for left \| 4 for right);
2.  packet for every slot painted on, mode is still 5, button (1 \| 5);
3.  packet with mode 5, slot -999, button (2 \| 6);

If any of the painting packets other than the "progress" ones are sent
out of order (for example, a start, some slots, then another start; or a
left-click in the middle) the painting status will be reset.

The server will send back a [Confirm
Transaction](#Confirm_Transaction "wikilink") packet. If the click was
not accepted, the client must reflect that packet before sending more
[Click Window](#Click_Window "wikilink") packets, otherwise the server
will reject them silently. The Notchian server also sends a [Window
Items](#Window_Items "wikilink") packet for the open window and [Set
Slot](#Set_Slot "wikilink") packets for the clicked and cursor slot, but
only when the click was not accepted, probably to resynchronize client
and server.

#### Confirm Transaction {#confirm_transaction_1}

If a transaction sent by the client was not accepted, the server will
reply with a [Confirm Transaction](#Confirm_Transaction "wikilink")
([Play](#Play "wikilink"), 0x32, clientbound) packet with the Accepted
field set to false. When this happens, the client must reflect the
packet to apologize (as with movement), otherwise the server ignores any
successive transactions.

  Packet ID   State   Bound To   Field Name      Field Type   Notes
  ----------- ------- ---------- --------------- ------------ -------------------------------------------------------------------------------------------------
  0x0F        Play    Server     Window ID       Byte         The ID of the window that the action occurred in
                                 Action Number   Short        Every action that is to be accepted has a unique number. This field corresponds to that number.
                                 Accepted        Boolean      Whether the action was accepted

#### Creative Inventory Action {#creative_inventory_action}

While the user is in the standard inventory (i.e., not a crafting bench)
in Creative mode, the player will send this packet.

Clicking in the creative inventory menu is quite different from
non-creative inventory management. Picking up an item with the mouse
actually deletes the item from the server, and placing an item into a
slot or dropping it out of the inventory actually tells the server to
create the item from scratch. (This can be verified by clicking an item
that you don\'t mind deleting, then severing the connection to the
server; the item will be nowhere to be found when you log back in.) As a
result of this implementation strategy, the \"Destroy Item\" slot is
just a client-side implementation detail that means \"I don\'t intend to
recreate this item.\". Additionally, the long listings of items (by
category, etc.) are a client-side interface for choosing which item to
create. Picking up an item from such listings sends no packets to the
server; only when you put it somewhere does it tell the server to create
the item in that location.

This action can be described as \"set inventory slot\". Picking up an
item sets the slot to item ID -1. Placing an item into an inventory slot
sets the slot to the specified item. Dropping an item (by clicking
outside the window) effectively sets slot -1 to the specified item,
which causes the server to spawn the item entity, etc.. All other
inventory slots are numbered the same as the non-creative inventory
(including slots for the 2x2 crafting menu, even though they aren\'t
visible in the vanilla client).

  Packet ID   State   Bound To   Field Name     Field Type                     Notes
  ----------- ------- ---------- -------------- ------------------------------ ----------------
  0x10        Play    Server     Slot           Short                          Inventory slot
                                 Clicked Item   [Slot](Slot_Data "wikilink")   

#### Enchant Item {#enchant_item}

  Packet ID   State   Bound To   Field Name    Field Type   Notes
  ----------- ------- ---------- ------------- ------------ -----------------------------------------------------------------------------------------------------
  0x11        Play    Server     Window ID     Byte         The ID of the enchantment table window sent by [Open Window](#Open_Window "wikilink")
                                 Enchantment   Byte         The position of the enchantment on the enchantment table window, starting with 0 as the topmost one

#### Update Sign {#update_sign_1}

This message is sent from the client to the server when the "Done"
button is pushed after placing a sign.

The server only accepts this packet after [Open Sign
Editor](#Open_Sign_Editor "wikilink"), otherwise this packet is silently
ignored.

  Packet ID   State   Bound To   Field Name   Field Type                Notes
  ----------- ------- ---------- ------------ ------------------------- ---------------------------------
  0x12        Play    Server     Location     Position                  Block Coordinates
                                 Line 1       [Chat](Chat "wikilink")   First line of text in the sign
                                 Line 2       [Chat](Chat "wikilink")   Second line of text in the sign
                                 Line 3       [Chat](Chat "wikilink")   Third line of text in the sign
                                 Line 4       [Chat](Chat "wikilink")   Fourth line of text in the sign

#### Player Abilities {#player_abilities_1}

The latter 2 bytes are used to indicate the walking and flying speeds
respectively, while the first byte is used to determine the value of 4
booleans.

The vanilla client sends this packet when the player starts/stops flying
with the Flags parameter changed accordingly. All other parameters are
ignored by the vanilla server.

  Packet ID   State   Bound To   Field Name      Field Type   Notes
  ----------- ------- ---------- --------------- ------------ -----------------------------------------------------------------------------------------------
  0x13        Play    Server     Flags           Byte         Bit mask. 0x08: damage disabled (god mode), 0x04: can fly, 0x02: is flying, 0x01: is Creative
                                 Flying Speed    Float        
                                 Walking Speed   Float        

#### Tab-Complete {#tab_complete_1}

Sent when the user presses *tab* while writing text.

  Packet ID   State   Bound To   Field Name        Field Type          Notes
  ----------- ------- ---------- ----------------- ------------------- -------------------------------------------------------------------------------
  0x14        Play    Server     Text              String              All text behind the cursor
                                 Has Position      Boolean             
                                 Looked At Block   Optional Position   The position of the block being looked at. Only sent if Has Position is true.

#### Client Settings {#client_settings}

Sent when the player connects, or when settings are changed.

  Packet ID   State   Bound To   Field Name             Field Type      Notes
  ----------- ------- ---------- ---------------------- --------------- -----------------------------------------
  0x15        Play    Server     Locale                 String          e.g. en_GB
                                 View Distance          Byte            Client-side render distance, in chunks
                                 Chat Mode              Byte            0: enabled, 1: commands only, 2: hidden
                                 Chat Colors            Boolean         "Colors" multiplayer setting
                                 Displayed Skin Parts   Unsigned Byte   Skin parts, see note below

*Displayed Skin Parts* flags:

-   Bit 0 (0x01): Cape enabled
-   Bit 1 (0x02): Jacket enabled
-   Bit 2 (0x04): Left Sleeve enabled
-   Bit 3 (0x08): Right Sleeve enabled
-   Bit 4 (0x10): Left Pants Leg enabled
-   Bit 5 (0x20): Right Pants Leg enabled
-   Bit 6 (0x40): Hat enabled

The most significant bit (bit 7, 0x80) appears to be unused.

#### Client Status {#client_status}

Sent when the client is ready to complete login and when the client is
ready to respawn after death.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ -----------
  0x16        Play    Server     Action ID    VarInt       See below

*Action ID* values:

  Action ID   Action
  ----------- --------------------------------
  0           Perform respawn
  1           Request stats
  2           *Taking Inventory* achievement

#### Plugin Message {#plugin_message_1}

Mods and plugins can use this to send their data. Minecraft itself uses
a number of [plugin channels](plugin_channel "wikilink"). These internal
channels are prefixed with `MC|`.

More documentation on this:
[<http://dinnerbone.com/blog/2012/01/13/minecraft-plugin-channels-messaging/>](http://dinnerbone.com/blog/2012/01/13/minecraft-plugin-channels-messaging/)

Note that the length of Data is known only from the packet length, since
the packet has no length field of any kind.

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ------------------------------------------------------------------------------------------------------
  0x17        Play    Server     Channel      String       Name of the [plugin channel](plugin_channel "wikilink") used to send the data
                                 Data         Byte Array   Any data, depending on the channel. `MC|` channels are documented [here](plugin_channel "wikilink").

#### Spectate

Teleports the player to the given entity. The player must be in
spectator mode.

The Notchian client only uses this to teleport to players, but it
appears to accept any type of entity. The entity does not need to be in
the same dimension as the player; if necessary, the player will be
respawned in the right world. If the given entity cannot be found (or
isn\'t loaded), this packet will be ignored. It will also be ignored if
the player attempts to teleport to themselves.

  Packet ID   State   Bound To   Field Name      Field Type   Notes
  ----------- ------- ---------- --------------- ------------ ----------------------------------------------------------------
  0x18        Play    Server     Target Player   UUID         UUID of the player to teleport to (can also be an entity UUID)

#### Resource Pack Status {#resource_pack_status}

  Packet ID   State   Bound To   Field Name   Field Type    Notes
  ----------- ------- ---------- ------------ ------------- -----------------------------------------------------------------------------------
  0x19        Play    Server     Hash         String        The hash sent in the [Resource Pack Send](#Resource_Pack_Send "wikilink") packet.
                                 Result       VarInt Enum   0: successfully loaded, 1: declined, 2: failed download, 3: accepted

## Status

```{=mediawiki}
{{Main|Server List Ping}}
```
### Clientbound {#clientbound_2}

#### Response

  Packet ID   State    Bound To   Field Name      Field Type   Notes
  ----------- -------- ---------- --------------- ------------ -----------------------------------------------------------------------
  0x00        Status   Client     JSON Response   String       See [Server List Ping#Response](Server_List_Ping#Response "wikilink")

#### Pong

  Packet ID   State    Bound To   Field Name   Field Type   Notes
  ----------- -------- ---------- ------------ ------------ ------------------------------------------
  0x01        Status   Client     Payload      Long         Should be the same as sent by the client

### Serverbound {#serverbound_2}

#### Request

  Packet ID   State    Bound To   Field Name    Field Type   Notes
  ----------- -------- ---------- ------------- ------------ -------
  0x00        Status   Server     *no fields*                

#### Ping

  Packet ID   State    Bound To   Field Name   Field Type   Notes
  ----------- -------- ---------- ------------ ------------ ---------------------------------------------------------------------------------------------------------
  0x01        Status   Server     Payload      Long         May be any number. Notchian clients use a system-dependent time value which is counted in milliseconds.

## Login

The login process is as follows:

1.  C→S: [Handshake](#Handshake "wikilink") with Next State set to 2
    (login)
2.  C→S: [Login Start](#Login_Start "wikilink")
3.  S→C: [Encryption Request](#Encryption_Request "wikilink")
4.  Client auth
5.  C→S: [Encryption Response](#Encryption_Response "wikilink")
6.  Server auth, both enable encryption
7.  S→C: [Login Success](#Login_Success "wikilink") and Set Compression

Login Success and Set Compression can be sent in either order, but
anything after Set Compression must use the [Post Compression packet
format](#With_compression "wikilink"). The packet ID for Set Compression
also depends on the current connection state, and Login Success switches
the state to [play](#Play "wikilink"), meaning that the correct packet
ID must be used depending on the order chosen.

For unauthenticated and localhost connections (either of the two
conditions is enough for an unencrypted connection) there is no
encryption. In that case [Login Start](#Login_Start "wikilink") is
directly followed by [Login Success](#Login_Success "wikilink").

See [Protocol Encryption](Protocol_Encryption "wikilink") for details.

### Clientbound {#clientbound_3}

#### Disconnect {#disconnect_1}

  Packet ID   State   Bound To   Field Name   Field Type                Notes
  ----------- ------- ---------- ------------ ------------------------- -------
  0x00        Login   Client     Reason       [Chat](Chat "wikilink")   

#### Encryption Request {#encryption_request}

  Packet ID   State   Bound To   Field Name            Field Type   Notes
  ----------- ------- ---------- --------------------- ------------ ------------------------
  0x01        Login   Client     Server ID             String       Appears to be empty
                                 Public Key Length     VarInt       Length of Public Key
                                 Public Key            Byte Array   
                                 Verify Token Length   VarInt       Length of Verify Token
                                 Verify Token          Byte Array   

See [Protocol Encryption](Protocol_Encryption "wikilink") for details.

#### Login Success {#login_success}

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ---------------------------------------------------------------------------------
  0x02        Login   Client     UUID         String       Unlike in other packets, this field contains the UUID as a string with hyphens.
                                 Username     String       

This packet switches the connection state to [play](#Play "wikilink").

#### Set Compression {#set_compression_1}

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ ------------------------------------------------
  0x03        Login   Client     Threshold    VarInt       Maximum size of a packet before its compressed

### Serverbound {#serverbound_3}

#### Login Start {#login_start}

  Packet ID   State   Bound To   Field Name   Field Type   Notes
  ----------- ------- ---------- ------------ ------------ -------
  0x00        Login   Server     Name         String       

#### Encryption Response {#encryption_response}

  Packet ID   State   Bound To   Field Name             Field Type   Notes
  ----------- ------- ---------- ---------------------- ------------ -------------------------
  0x01        Login   Server     Shared Secret Length   VarInt       Length of Shared Secret
                                 Shared Secret          Byte Array   
                                 Verify Token Length    VarInt       Length of Verify Token
                                 Verify Token           Byte Array   

See [Protocol Encryption](Protocol_Encryption "wikilink") for details.

[Category:Protocol Details](Category:Protocol_Details "wikilink")
[Category:Minecraft Modern](Category:Minecraft_Modern "wikilink")
